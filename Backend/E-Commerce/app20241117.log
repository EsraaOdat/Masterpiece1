2024-11-17 13:07:03.384 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/ProductsByStore/83 - null null
2024-11-17 13:07:03.384 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/83 - null null
2024-11-17 13:07:03.384 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 13:07:03.417 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:03.417 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:03.417 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:03.419 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce)'
2024-11-17 13:07:03.421 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce)'
2024-11-17 13:07:03.427 +03:00 [INF] Route matched with {action = "GetStoreById", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetStoreById(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 13:07:03.422 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 13:07:03.448 +03:00 [INF] Route matched with {action = "GetProductsByStore", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProductsByStore(Int32) on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 13:07:03.454 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 13:07:03.521 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 13:07:03.526 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 13:07:03.527 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 67.6488ms
2024-11-17 13:07:03.529 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__storeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[store_id] = @__storeId_0 AND [s].[status] = N'active'
2024-11-17 13:07:03.531 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[store_id] = @__p_0
2024-11-17 13:07:03.531 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 13:07:03.536 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.Models.Store'.
2024-11-17 13:07:03.538 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 154.029ms
2024-11-17 13:07:03.539 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce) in 89.3498ms
2024-11-17 13:07:03.543 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce)'
2024-11-17 13:07:03.544 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/83 - 200 null application/json; charset=utf-8 160.2716ms
2024-11-17 13:07:03.550 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__storeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[store_id] = @__storeId_0 AND [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit)
ORDER BY [p].[product_id] DESC
2024-11-17 13:07:03.553 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 13:07:03.554 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce) in 95.7813ms
2024-11-17 13:07:03.556 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce)'
2024-11-17 13:07:03.557 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/ProductsByStore/83 - 200 null application/json; charset=utf-8 173.743ms
2024-11-17 13:07:03.826 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/ProductsByStore/83 - null null
2024-11-17 13:07:03.827 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/83 - null null
2024-11-17 13:07:03.827 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 13:07:03.850 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:03.862 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:03.871 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:03.872 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce)'
2024-11-17 13:07:03.874 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce)'
2024-11-17 13:07:03.875 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 13:07:03.876 +03:00 [INF] Route matched with {action = "GetProductsByStore", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProductsByStore(Int32) on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 13:07:03.877 +03:00 [INF] Route matched with {action = "GetStoreById", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetStoreById(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 13:07:03.878 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 13:07:03.888 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__storeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[store_id] = @__storeId_0 AND [s].[status] = N'active'
2024-11-17 13:07:03.892 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[store_id] = @__p_0
2024-11-17 13:07:03.895 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 13:07:03.896 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__storeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[store_id] = @__storeId_0 AND [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit)
ORDER BY [p].[product_id] DESC
2024-11-17 13:07:03.902 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.Models.Store'.
2024-11-17 13:07:03.905 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 13:07:03.907 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 13:07:03.908 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce) in 19.3622ms
2024-11-17 13:07:03.910 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 17.7477ms
2024-11-17 13:07:03.914 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce) in 28.7146ms
2024-11-17 13:07:03.916 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce)'
2024-11-17 13:07:03.919 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 13:07:03.921 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce)'
2024-11-17 13:07:03.922 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/83 - 200 null application/json; charset=utf-8 95.0243ms
2024-11-17 13:07:03.924 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 97.5271ms
2024-11-17 13:07:03.927 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/ProductsByStore/83 - 200 null application/json; charset=utf-8 100.9956ms
2024-11-17 13:07:04.225 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/ProductsByStore/83 - null null
2024-11-17 13:07:04.226 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 13:07:04.226 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/83 - null null
2024-11-17 13:07:04.233 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:04.236 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:04.239 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:04.240 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce)'
2024-11-17 13:07:04.241 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 13:07:04.245 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 13:07:04.244 +03:00 [INF] Route matched with {action = "GetProductsByStore", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProductsByStore(Int32) on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 13:07:04.242 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce)'
2024-11-17 13:07:04.258 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 13:07:04.259 +03:00 [INF] Route matched with {action = "GetStoreById", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetStoreById(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 13:07:04.259 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__storeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[store_id] = @__storeId_0 AND [s].[status] = N'active'
2024-11-17 13:07:04.261 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 13:07:04.267 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[store_id] = @__p_0
2024-11-17 13:07:04.270 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 15.5882ms
2024-11-17 13:07:04.271 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__storeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[store_id] = @__storeId_0 AND [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit)
ORDER BY [p].[product_id] DESC
2024-11-17 13:07:04.273 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.Models.Store'.
2024-11-17 13:07:04.274 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 13:07:04.277 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 13:07:04.278 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce) in 15.55ms
2024-11-17 13:07:04.281 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 55.58ms
2024-11-17 13:07:04.284 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce) in 26.9204ms
2024-11-17 13:07:04.286 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce)'
2024-11-17 13:07:04.291 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce)'
2024-11-17 13:07:04.292 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/83 - 200 null application/json; charset=utf-8 66.1716ms
2024-11-17 13:07:04.293 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/ProductsByStore/83 - 200 null application/json; charset=utf-8 68.2775ms
2024-11-17 13:07:04.690 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/ProductsByStore/83 - null null
2024-11-17 13:07:04.690 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/83 - null null
2024-11-17 13:07:04.691 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 13:07:04.695 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:04.700 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:04.703 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:04.703 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce)'
2024-11-17 13:07:04.704 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce)'
2024-11-17 13:07:04.705 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 13:07:04.707 +03:00 [INF] Route matched with {action = "GetProductsByStore", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProductsByStore(Int32) on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 13:07:04.708 +03:00 [INF] Route matched with {action = "GetStoreById", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetStoreById(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 13:07:04.709 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 13:07:04.722 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__storeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[store_id] = @__storeId_0 AND [s].[status] = N'active'
2024-11-17 13:07:04.728 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[store_id] = @__p_0
2024-11-17 13:07:04.733 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 13:07:04.734 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__storeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[store_id] = @__storeId_0 AND [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit)
ORDER BY [p].[product_id] DESC
2024-11-17 13:07:04.735 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.Models.Store'.
2024-11-17 13:07:04.738 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 13:07:04.740 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 13:07:04.742 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce) in 17.2068ms
2024-11-17 13:07:04.744 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 16.4199ms
2024-11-17 13:07:04.747 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce) in 35.892ms
2024-11-17 13:07:04.751 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce)'
2024-11-17 13:07:04.753 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 13:07:04.755 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce)'
2024-11-17 13:07:04.757 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/83 - 200 null application/json; charset=utf-8 66.6765ms
2024-11-17 13:07:04.758 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 67.4983ms
2024-11-17 13:07:04.759 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/ProductsByStore/83 - 200 null application/json; charset=utf-8 69.121ms
2024-11-17 13:07:05.024 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/ProductsByStore/83 - null null
2024-11-17 13:07:05.024 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/83 - null null
2024-11-17 13:07:05.024 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 13:07:05.030 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:05.034 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:05.037 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:05.038 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce)'
2024-11-17 13:07:05.039 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce)'
2024-11-17 13:07:05.039 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 13:07:05.040 +03:00 [INF] Route matched with {action = "GetProductsByStore", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProductsByStore(Int32) on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 13:07:05.041 +03:00 [INF] Route matched with {action = "GetStoreById", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetStoreById(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 13:07:05.042 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 13:07:05.054 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__storeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[store_id] = @__storeId_0 AND [s].[status] = N'active'
2024-11-17 13:07:05.059 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[store_id] = @__p_0
2024-11-17 13:07:05.061 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 13:07:05.063 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__storeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[store_id] = @__storeId_0 AND [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit)
ORDER BY [p].[product_id] DESC
2024-11-17 13:07:05.064 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.Models.Store'.
2024-11-17 13:07:05.067 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 13:07:05.069 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 13:07:05.070 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce) in 13.6886ms
2024-11-17 13:07:05.072 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 13.208ms
2024-11-17 13:07:05.073 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce) in 24.6738ms
2024-11-17 13:07:05.074 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce)'
2024-11-17 13:07:05.075 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 13:07:05.076 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce)'
2024-11-17 13:07:05.078 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/83 - 200 null application/json; charset=utf-8 54.933ms
2024-11-17 13:07:05.081 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 57.6137ms
2024-11-17 13:07:05.083 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/ProductsByStore/83 - 200 null application/json; charset=utf-8 59.657ms
2024-11-17 13:07:07.879 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/ProductsByStore/83 - null null
2024-11-17 13:07:07.879 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 13:07:07.880 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/83 - null null
2024-11-17 13:07:07.885 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:07.889 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:07.892 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:07.895 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce)'
2024-11-17 13:07:07.895 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 13:07:07.897 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce)'
2024-11-17 13:07:07.900 +03:00 [INF] Route matched with {action = "GetProductsByStore", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProductsByStore(Int32) on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 13:07:07.902 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 13:07:07.904 +03:00 [INF] Route matched with {action = "GetStoreById", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetStoreById(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 13:07:07.914 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__storeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[store_id] = @__storeId_0 AND [s].[status] = N'active'
2024-11-17 13:07:07.918 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 13:07:07.921 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[store_id] = @__p_0
2024-11-17 13:07:07.923 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__storeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[store_id] = @__storeId_0 AND [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit)
ORDER BY [p].[product_id] DESC
2024-11-17 13:07:07.925 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 13:07:07.929 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.Models.Store'.
2024-11-17 13:07:07.933 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 13:07:07.935 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 19.6282ms
2024-11-17 13:07:07.937 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce) in 18.4879ms
2024-11-17 13:07:07.938 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce) in 30.3777ms
2024-11-17 13:07:07.939 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 13:07:07.941 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce)'
2024-11-17 13:07:07.942 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce)'
2024-11-17 13:07:07.943 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 63.6478ms
2024-11-17 13:07:07.944 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/83 - 200 null application/json; charset=utf-8 65.1331ms
2024-11-17 13:07:07.946 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/ProductsByStore/83 - 200 null application/json; charset=utf-8 67.9402ms
2024-11-17 13:07:08.945 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/ProductsByStore/83 - null null
2024-11-17 13:07:08.947 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/83 - null null
2024-11-17 13:07:08.947 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 13:07:08.952 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:08.954 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:08.957 +03:00 [INF] CORS policy execution successful.
2024-11-17 13:07:08.958 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce)'
2024-11-17 13:07:08.960 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce)'
2024-11-17 13:07:08.962 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 13:07:08.965 +03:00 [INF] Route matched with {action = "GetProductsByStore", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProductsByStore(Int32) on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 13:07:08.968 +03:00 [INF] Route matched with {action = "GetStoreById", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetStoreById(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 13:07:08.969 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 13:07:08.975 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__storeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[store_id] = @__storeId_0 AND [s].[status] = N'active'
2024-11-17 13:07:08.985 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[store_id] = @__p_0
2024-11-17 13:07:08.992 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 13:07:08.993 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__storeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[store_id] = @__storeId_0 AND [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit)
ORDER BY [p].[product_id] DESC
2024-11-17 13:07:08.996 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.Models.Store'.
2024-11-17 13:07:08.999 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 13:07:09.003 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 13:07:09.004 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce) in 28.5083ms
2024-11-17 13:07:09.006 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 17.1588ms
2024-11-17 13:07:09.008 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce) in 36.1834ms
2024-11-17 13:07:09.009 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce)'
2024-11-17 13:07:09.012 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 13:07:09.014 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetProductsByStore (E-Commerce)'
2024-11-17 13:07:09.015 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/83 - 200 null application/json; charset=utf-8 69.5846ms
2024-11-17 13:07:09.017 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 70.6213ms
2024-11-17 13:07:09.018 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/ProductsByStore/83 - 200 null application/json; charset=utf-8 73.3326ms
2024-11-17 14:52:45.496 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - null null
2024-11-17 14:52:45.497 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - null null
2024-11-17 14:52:45.506 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - null null
2024-11-17 14:52:45.497 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - null null
2024-11-17 14:52:45.499 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 14:52:45.517 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:52:45.519 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:52:45.524 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:52:45.526 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:52:45.529 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:52:45.530 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 14:52:45.531 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 14:52:45.532 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 14:52:45.533 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 14:52:45.534 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:52:45.536 +03:00 [INF] Route matched with {action = "GetLast8Products", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetLast8Products() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:52:45.537 +03:00 [INF] Route matched with {action = "GetTopStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopStores(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 14:52:45.539 +03:00 [INF] Route matched with {action = "GetTopSellingProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopSellingProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:52:45.540 +03:00 [INF] Route matched with {action = "GetTopReviewedProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopReviewedProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:52:45.542 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 14:52:45.601 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [o].[product_id], COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) AS [c]
    FROM [OrderItems] AS [o]
    GROUP BY [o].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [OrderItems] AS [o0]
        LEFT JOIN [Products] AS [p] ON [o0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([o].[product_id] = [o0].[product_id] OR ([o].[product_id] IS NULL AND [o0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [o1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [o1].[product_id] ORDER BY [o1].[Order_Item_id], [p0].[product_id]) AS [row]
        FROM [OrderItems] AS [o1]
        LEFT JOIN [Products] AS [p0] ON [o1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 14:52:45.613 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [p].[store_id] AND [s].[status] = N'active')
ORDER BY [p].[created_at] DESC
2024-11-17 14:52:45.616 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[store_id], [t].[address], [t].[amount], [t].[background_image], [t].[city], [t].[country], [t].[created_at], [t].[end_date], [t].[phone_number], [t].[plan_name], [t].[plan_type], [t].[start_date], [t].[status], [t].[store_description], [t].[store_logo], [t].[store_name], [t].[zip_code], [o0].[order_id], [o0].[amount], [o0].[copon_id], [o0].[Date], [o0].[payment_method_id], [o0].[status], [o0].[store_id], [o0].[transaction_id], [o0].[user_id]
FROM (
    SELECT TOP(@__p_0) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code], (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) AS [c]
    FROM [Stores] AS [s]
    WHERE [s].[status] = N'active'
    ORDER BY (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) DESC
) AS [t]
LEFT JOIN [Orders] AS [o0] ON [t].[store_id] = [o0].[store_id]
ORDER BY [t].[c] DESC, [t].[store_id]
2024-11-17 14:52:45.618 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:52:45.619 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 14:52:45.622 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t].[c0], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [c].[product_id], COUNT(*) AS [c], AVG(CAST(COALESCE([c].[rating], 0) AS float)) AS [c0]
    FROM [Comment] AS [c]
    GROUP BY [c].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [Comment] AS [c0]
        LEFT JOIN [Products] AS [p] ON [c0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([c].[product_id] = [c0].[product_id] OR ([c].[product_id] IS NULL AND [c0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [c1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [c1].[product_id] ORDER BY [c1].[comment_id], [p0].[product_id]) AS [row]
        FROM [Comment] AS [c1]
        LEFT JOIN [Products] AS [p0] ON [c1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 14:52:45.627 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:52:45.631 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:52:45.633 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce) in 74.2889ms
2024-11-17 14:52:45.640 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:52:45.636 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:52:45.644 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce) in 93.5849ms
2024-11-17 14:52:45.657 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce) in 104.1129ms
2024-11-17 14:52:45.659 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 14:52:45.663 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce) in 100.9047ms
2024-11-17 14:52:45.664 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 99.9111ms
2024-11-17 14:52:45.665 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 14:52:45.667 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 14:52:45.668 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - 200 null application/json; charset=utf-8 164.2063ms
2024-11-17 14:52:45.669 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 14:52:45.671 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:52:45.674 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - 200 null application/json; charset=utf-8 181.3177ms
2024-11-17 14:52:45.675 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - 200 null application/json; charset=utf-8 178.1854ms
2024-11-17 14:52:45.681 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - 200 null application/json; charset=utf-8 185.0708ms
2024-11-17 14:52:45.682 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 182.9062ms
2024-11-17 14:52:54.377 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 14:52:54.383 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:52:54.385 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:52:54.388 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 14:52:54.411 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 14:52:54.414 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:52:54.418 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 25.1964ms
2024-11-17 14:52:54.422 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:52:54.425 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 48.2731ms
2024-11-17 14:57:17.184 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - null null
2024-11-17 14:57:17.194 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - null null
2024-11-17 14:57:17.223 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:17.204 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - null null
2024-11-17 14:57:17.204 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - null null
2024-11-17 14:57:17.213 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 14:57:17.244 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:17.235 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 14:57:17.237 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:17.240 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:17.234 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:17.247 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:57:17.249 +03:00 [INF] Route matched with {action = "GetLast8Products", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetLast8Products() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:57:17.250 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 14:57:17.251 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 14:57:17.253 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 14:57:17.254 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 14:57:17.257 +03:00 [INF] Route matched with {action = "GetTopReviewedProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopReviewedProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:57:17.259 +03:00 [INF] Route matched with {action = "GetTopSellingProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopSellingProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:57:17.260 +03:00 [INF] Route matched with {action = "GetTopStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopStores(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 14:57:17.284 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 14:57:17.287 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:17.289 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [o].[product_id], COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) AS [c]
    FROM [OrderItems] AS [o]
    GROUP BY [o].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [OrderItems] AS [o0]
        LEFT JOIN [Products] AS [p] ON [o0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([o].[product_id] = [o0].[product_id] OR ([o].[product_id] IS NULL AND [o0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [o1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [o1].[product_id] ORDER BY [o1].[Order_Item_id], [p0].[product_id]) AS [row]
        FROM [OrderItems] AS [o1]
        LEFT JOIN [Products] AS [p0] ON [o1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 14:57:17.289 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 26.8398ms
2024-11-17 14:57:17.300 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [p].[store_id] AND [s].[status] = N'active')
ORDER BY [p].[created_at] DESC
2024-11-17 14:57:17.302 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:17.303 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t].[c0], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [c].[product_id], COUNT(*) AS [c], AVG(CAST(COALESCE([c].[rating], 0) AS float)) AS [c0]
    FROM [Comment] AS [c]
    GROUP BY [c].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [Comment] AS [c0]
        LEFT JOIN [Products] AS [p] ON [c0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([c].[product_id] = [c0].[product_id] OR ([c].[product_id] IS NULL AND [c0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [c1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [c1].[product_id] ORDER BY [c1].[comment_id], [p0].[product_id]) AS [row]
        FROM [Comment] AS [c1]
        LEFT JOIN [Products] AS [p0] ON [c1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 14:57:17.303 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:57:17.307 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:17.307 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[store_id], [t].[address], [t].[amount], [t].[background_image], [t].[city], [t].[country], [t].[created_at], [t].[end_date], [t].[phone_number], [t].[plan_name], [t].[plan_type], [t].[start_date], [t].[status], [t].[store_description], [t].[store_logo], [t].[store_name], [t].[zip_code], [o0].[order_id], [o0].[amount], [o0].[copon_id], [o0].[Date], [o0].[payment_method_id], [o0].[status], [o0].[store_id], [o0].[transaction_id], [o0].[user_id]
FROM (
    SELECT TOP(@__p_0) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code], (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) AS [c]
    FROM [Stores] AS [s]
    WHERE [s].[status] = N'active'
    ORDER BY (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) DESC
) AS [t]
LEFT JOIN [Orders] AS [o0] ON [t].[store_id] = [o0].[store_id]
ORDER BY [t].[c] DESC, [t].[store_id]
2024-11-17 14:57:17.313 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:17.308 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce) in 41.1321ms
2024-11-17 14:57:17.315 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 101.4278ms
2024-11-17 14:57:17.320 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce) in 63.9202ms
2024-11-17 14:57:17.324 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:17.325 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce) in 60.3915ms
2024-11-17 14:57:17.328 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 14:57:17.335 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 14:57:17.337 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce) in 67.6216ms
2024-11-17 14:57:17.338 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 14:57:17.340 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - 200 null application/json; charset=utf-8 135.4782ms
2024-11-17 14:57:17.341 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - 200 null application/json; charset=utf-8 157.4347ms
2024-11-17 14:57:17.342 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 14:57:17.344 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - 200 null application/json; charset=utf-8 139.6874ms
2024-11-17 14:57:17.361 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - 200 null application/json; charset=utf-8 167.4077ms
2024-11-17 14:57:21.234 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - null null
2024-11-17 14:57:21.234 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 14:57:21.234 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - null null
2024-11-17 14:57:21.234 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - null null
2024-11-17 14:57:21.234 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - null null
2024-11-17 14:57:21.239 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:21.243 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:21.247 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:21.252 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:21.254 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:21.255 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 14:57:21.256 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:57:21.257 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 14:57:21.258 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 14:57:21.259 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 14:57:21.260 +03:00 [INF] Route matched with {action = "GetLast8Products", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetLast8Products() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:57:21.262 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 14:57:21.264 +03:00 [INF] Route matched with {action = "GetTopStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopStores(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 14:57:21.275 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 14:57:21.268 +03:00 [INF] Route matched with {action = "GetTopSellingProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopSellingProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:57:21.274 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [p].[store_id] AND [s].[status] = N'active')
ORDER BY [p].[created_at] DESC
2024-11-17 14:57:21.265 +03:00 [INF] Route matched with {action = "GetTopReviewedProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopReviewedProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:57:21.278 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:21.280 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[store_id], [t].[address], [t].[amount], [t].[background_image], [t].[city], [t].[country], [t].[created_at], [t].[end_date], [t].[phone_number], [t].[plan_name], [t].[plan_type], [t].[start_date], [t].[status], [t].[store_description], [t].[store_logo], [t].[store_name], [t].[zip_code], [o0].[order_id], [o0].[amount], [o0].[copon_id], [o0].[Date], [o0].[payment_method_id], [o0].[status], [o0].[store_id], [o0].[transaction_id], [o0].[user_id]
FROM (
    SELECT TOP(@__p_0) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code], (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) AS [c]
    FROM [Stores] AS [s]
    WHERE [s].[status] = N'active'
    ORDER BY (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) DESC
) AS [t]
LEFT JOIN [Orders] AS [o0] ON [t].[store_id] = [o0].[store_id]
ORDER BY [t].[c] DESC, [t].[store_id]
2024-11-17 14:57:21.285 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:21.285 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [o].[product_id], COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) AS [c]
    FROM [OrderItems] AS [o]
    GROUP BY [o].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [OrderItems] AS [o0]
        LEFT JOIN [Products] AS [p] ON [o0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([o].[product_id] = [o0].[product_id] OR ([o].[product_id] IS NULL AND [o0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [o1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [o1].[product_id] ORDER BY [o1].[Order_Item_id], [p0].[product_id]) AS [row]
        FROM [OrderItems] AS [o1]
        LEFT JOIN [Products] AS [p0] ON [o1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 14:57:21.290 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 16.2719ms
2024-11-17 14:57:21.293 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:21.298 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce) in 27.1602ms
2024-11-17 14:57:21.307 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:21.309 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:57:21.312 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce) in 36.6514ms
2024-11-17 14:57:21.313 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t].[c0], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [c].[product_id], COUNT(*) AS [c], AVG(CAST(COALESCE([c].[rating], 0) AS float)) AS [c0]
    FROM [Comment] AS [c]
    GROUP BY [c].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [Comment] AS [c0]
        LEFT JOIN [Products] AS [p] ON [c0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([c].[product_id] = [c0].[product_id] OR ([c].[product_id] IS NULL AND [c0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [c1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [c1].[product_id] ORDER BY [c1].[comment_id], [p0].[product_id]) AS [row]
        FROM [Comment] AS [c1]
        LEFT JOIN [Products] AS [p0] ON [c1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 14:57:21.315 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 14:57:21.317 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce) in 36.0148ms
2024-11-17 14:57:21.319 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 84.4734ms
2024-11-17 14:57:21.321 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 14:57:21.325 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:21.327 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - 200 null application/json; charset=utf-8 93.3832ms
2024-11-17 14:57:21.330 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 14:57:21.336 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - 200 null application/json; charset=utf-8 102.2239ms
2024-11-17 14:57:21.338 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce) in 50.0334ms
2024-11-17 14:57:21.343 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - 200 null application/json; charset=utf-8 109.4791ms
2024-11-17 14:57:21.350 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 14:57:21.355 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - 200 null application/json; charset=utf-8 121.1685ms
2024-11-17 14:57:21.780 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - null null
2024-11-17 14:57:21.785 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 14:57:21.780 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - null null
2024-11-17 14:57:21.782 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - null null
2024-11-17 14:57:21.784 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - null null
2024-11-17 14:57:21.788 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:21.791 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:21.796 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:21.800 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:21.803 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:21.804 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 14:57:21.805 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:57:21.806 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 14:57:21.807 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 14:57:21.808 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 14:57:21.810 +03:00 [INF] Route matched with {action = "GetLast8Products", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetLast8Products() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:57:21.811 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 14:57:21.813 +03:00 [INF] Route matched with {action = "GetTopStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopStores(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 14:57:21.815 +03:00 [INF] Route matched with {action = "GetTopSellingProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopSellingProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:57:21.816 +03:00 [INF] Route matched with {action = "GetTopReviewedProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopReviewedProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:57:21.822 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [p].[store_id] AND [s].[status] = N'active')
ORDER BY [p].[created_at] DESC
2024-11-17 14:57:21.823 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 14:57:21.831 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[store_id], [t].[address], [t].[amount], [t].[background_image], [t].[city], [t].[country], [t].[created_at], [t].[end_date], [t].[phone_number], [t].[plan_name], [t].[plan_type], [t].[start_date], [t].[status], [t].[store_description], [t].[store_logo], [t].[store_name], [t].[zip_code], [o0].[order_id], [o0].[amount], [o0].[copon_id], [o0].[Date], [o0].[payment_method_id], [o0].[status], [o0].[store_id], [o0].[transaction_id], [o0].[user_id]
FROM (
    SELECT TOP(@__p_0) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code], (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) AS [c]
    FROM [Stores] AS [s]
    WHERE [s].[status] = N'active'
    ORDER BY (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) DESC
) AS [t]
LEFT JOIN [Orders] AS [o0] ON [t].[store_id] = [o0].[store_id]
ORDER BY [t].[c] DESC, [t].[store_id]
2024-11-17 14:57:21.832 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [o].[product_id], COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) AS [c]
    FROM [OrderItems] AS [o]
    GROUP BY [o].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [OrderItems] AS [o0]
        LEFT JOIN [Products] AS [p] ON [o0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([o].[product_id] = [o0].[product_id] OR ([o].[product_id] IS NULL AND [o0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [o1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [o1].[product_id] ORDER BY [o1].[Order_Item_id], [p0].[product_id]) AS [row]
        FROM [OrderItems] AS [o1]
        LEFT JOIN [Products] AS [p0] ON [o1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 14:57:21.835 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:21.838 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:21.844 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:21.850 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce) in 31.173ms
2024-11-17 14:57:21.847 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:21.850 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t].[c0], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [c].[product_id], COUNT(*) AS [c], AVG(CAST(COALESCE([c].[rating], 0) AS float)) AS [c0]
    FROM [Comment] AS [c]
    GROUP BY [c].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [Comment] AS [c0]
        LEFT JOIN [Products] AS [p] ON [c0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([c].[product_id] = [c0].[product_id] OR ([c].[product_id] IS NULL AND [c0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [c1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [c1].[product_id] ORDER BY [c1].[comment_id], [p0].[product_id]) AS [row]
        FROM [Comment] AS [c1]
        LEFT JOIN [Products] AS [p0] ON [c1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 14:57:21.852 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 30.3325ms
2024-11-17 14:57:21.854 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce) in 28.9825ms
2024-11-17 14:57:21.856 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 14:57:21.859 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce) in 32.0519ms
2024-11-17 14:57:21.865 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:21.866 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:57:21.868 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 14:57:21.872 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - 200 null application/json; charset=utf-8 92.2961ms
2024-11-17 14:57:21.880 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 14:57:21.882 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce) in 51.0203ms
2024-11-17 14:57:21.883 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 98.9152ms
2024-11-17 14:57:21.885 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - 200 null application/json; charset=utf-8 105.2436ms
2024-11-17 14:57:21.894 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - 200 null application/json; charset=utf-8 112.1267ms
2024-11-17 14:57:21.896 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 14:57:21.925 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - 200 null application/json; charset=utf-8 140.1909ms
2024-11-17 14:57:22.891 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - null null
2024-11-17 14:57:22.892 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - null null
2024-11-17 14:57:22.896 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - null null
2024-11-17 14:57:22.891 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - null null
2024-11-17 14:57:22.901 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 14:57:22.901 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:22.904 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:22.908 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:22.912 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:22.915 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:57:22.917 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 14:57:22.918 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 14:57:22.918 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 14:57:22.919 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 14:57:22.920 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:57:22.921 +03:00 [INF] Route matched with {action = "GetLast8Products", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetLast8Products() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:57:22.922 +03:00 [INF] Route matched with {action = "GetTopSellingProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopSellingProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:57:22.923 +03:00 [INF] Route matched with {action = "GetTopReviewedProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopReviewedProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:57:22.924 +03:00 [INF] Route matched with {action = "GetTopStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopStores(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 14:57:22.925 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 14:57:22.932 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [p].[store_id] AND [s].[status] = N'active')
ORDER BY [p].[created_at] DESC
2024-11-17 14:57:22.938 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [o].[product_id], COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) AS [c]
    FROM [OrderItems] AS [o]
    GROUP BY [o].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [OrderItems] AS [o0]
        LEFT JOIN [Products] AS [p] ON [o0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([o].[product_id] = [o0].[product_id] OR ([o].[product_id] IS NULL AND [o0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [o1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [o1].[product_id] ORDER BY [o1].[Order_Item_id], [p0].[product_id]) AS [row]
        FROM [OrderItems] AS [o1]
        LEFT JOIN [Products] AS [p0] ON [o1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 14:57:22.938 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[store_id], [t].[address], [t].[amount], [t].[background_image], [t].[city], [t].[country], [t].[created_at], [t].[end_date], [t].[phone_number], [t].[plan_name], [t].[plan_type], [t].[start_date], [t].[status], [t].[store_description], [t].[store_logo], [t].[store_name], [t].[zip_code], [o0].[order_id], [o0].[amount], [o0].[copon_id], [o0].[Date], [o0].[payment_method_id], [o0].[status], [o0].[store_id], [o0].[transaction_id], [o0].[user_id]
FROM (
    SELECT TOP(@__p_0) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code], (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) AS [c]
    FROM [Stores] AS [s]
    WHERE [s].[status] = N'active'
    ORDER BY (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) DESC
) AS [t]
LEFT JOIN [Orders] AS [o0] ON [t].[store_id] = [o0].[store_id]
ORDER BY [t].[c] DESC, [t].[store_id]
2024-11-17 14:57:22.938 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 14:57:22.940 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:22.943 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:22.954 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t].[c0], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [c].[product_id], COUNT(*) AS [c], AVG(CAST(COALESCE([c].[rating], 0) AS float)) AS [c0]
    FROM [Comment] AS [c]
    GROUP BY [c].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [Comment] AS [c0]
        LEFT JOIN [Products] AS [p] ON [c0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([c].[product_id] = [c0].[product_id] OR ([c].[product_id] IS NULL AND [c0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [c1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [c1].[product_id] ORDER BY [c1].[comment_id], [p0].[product_id]) AS [row]
        FROM [Comment] AS [c1]
        LEFT JOIN [Products] AS [p0] ON [c1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 14:57:22.956 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce) in 28.3547ms
2024-11-17 14:57:22.949 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:22.952 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:22.958 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce) in 27.2327ms
2024-11-17 14:57:22.963 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:57:22.965 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 14:57:22.967 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce) in 31.7945ms
2024-11-17 14:57:22.969 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 31.542ms
2024-11-17 14:57:22.970 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 14:57:22.972 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce) in 38.838ms
2024-11-17 14:57:22.973 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - 200 null application/json; charset=utf-8 82.1928ms
2024-11-17 14:57:22.974 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 14:57:22.976 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:57:22.978 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - 200 null application/json; charset=utf-8 86.1985ms
2024-11-17 14:57:22.980 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 14:57:22.986 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - 200 null application/json; charset=utf-8 94.7283ms
2024-11-17 14:57:22.987 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 86.3606ms
2024-11-17 14:57:22.993 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - 200 null application/json; charset=utf-8 99.1235ms
2024-11-17 14:59:33.227 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 14:59:33.227 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Categories/CategoriesWithSubcategories - null null
2024-11-17 14:59:33.227 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/Products - null null
2024-11-17 14:59:33.257 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:59:33.261 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:59:33.264 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:59:33.265 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:59:33.266 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.GetCategoriesWithSubcategories (E-Commerce)'
2024-11-17 14:59:33.267 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetProducts (E-Commerce)'
2024-11-17 14:59:33.269 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 14:59:33.274 +03:00 [INF] Route matched with {action = "GetCategoriesWithSubcategories", controller = "Categories"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCategoriesWithSubcategories() on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2024-11-17 14:59:33.274 +03:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:59:33.297 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 14:59:33.300 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:59:33.304 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 29.5145ms
2024-11-17 14:59:33.306 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:59:33.308 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 81.411ms
2024-11-17 14:59:33.331 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[category_id], [c].[name], [c].[image], [c].[description], [s].[subcategory_id], [s].[subcategory_name]
FROM [Categories] AS [c]
LEFT JOIN [SubCategories] AS [s] ON [c].[category_id] = [s].[category_id]
ORDER BY [c].[category_id]
2024-11-17 14:59:33.334 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-11-17 14:59:33.340 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType6`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType7`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:59:33.349 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.GetCategoriesWithSubcategories (E-Commerce) in 71.6945ms
2024-11-17 14:59:33.350 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.GetCategoriesWithSubcategories (E-Commerce)'
2024-11-17 14:59:33.352 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Categories/CategoriesWithSubcategories - 200 null application/json; charset=utf-8 125.5493ms
2024-11-17 14:59:33.379 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id], [s0].[store_id], [p0].[ImageID], [p0].[ImagePath], [p0].[ProductID], [c].[comment_id], [c].[comment], [c].[date], [c].[email], [c].[name], [c].[product_id], [c].[rating], [c].[status], [t0].[ProductID], [t0].[TagID], [t0].[tag_id], [t0].[tag_name], [s0].[address], [s0].[amount], [s0].[background_image], [s0].[city], [s0].[country], [s0].[created_at], [s0].[end_date], [s0].[phone_number], [s0].[plan_name], [s0].[plan_type], [s0].[start_date], [s0].[status], [s0].[store_description], [s0].[store_logo], [s0].[store_name], [s0].[zip_code]
FROM [Products] AS [p]
LEFT JOIN [Stores] AS [s0] ON [p].[store_id] = [s0].[store_id]
LEFT JOIN [ProductImages] AS [p0] ON [p].[product_id] = [p0].[ProductID]
LEFT JOIN [Comment] AS [c] ON [p].[product_id] = [c].[product_id]
LEFT JOIN (
    SELECT [p1].[ProductID], [p1].[TagID], [t].[tag_id], [t].[tag_name]
    FROM [ProductTags] AS [p1]
    INNER JOIN [Tags] AS [t] ON [p1].[TagID] = [t].[tag_id]
) AS [t0] ON [p].[product_id] = [t0].[ProductID]
WHERE [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [p].[store_id] AND [s].[status] = N'active')
ORDER BY [p].[product_id] DESC, [s0].[store_id], [p0].[ImageID], [c].[comment_id], [t0].[ProductID], [t0].[TagID]
2024-11-17 14:59:33.392 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:59:33.417 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetProducts (E-Commerce) in 137.9682ms
2024-11-17 14:59:33.423 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetProducts (E-Commerce)'
2024-11-17 14:59:33.424 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/Products - 200 null application/json; charset=utf-8 197.3063ms
2024-11-17 14:59:35.006 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/Product/136 - null null
2024-11-17 14:59:35.007 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Review/getAllComments/136 - null null
2024-11-17 14:59:35.007 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/GetRandom3ProductsBySubcategory/136 - null null
2024-11-17 14:59:35.007 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 14:59:35.007 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Review/AverageRatingByProduct/136 - null null
2024-11-17 14:59:35.019 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:59:35.029 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:59:35.048 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ReviewController.GetAllComments (E-Commerce)'
2024-11-17 14:59:35.040 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:59:35.044 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:59:35.046 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetProductById (E-Commerce)'
2024-11-17 14:59:35.035 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:59:35.051 +03:00 [INF] Route matched with {action = "GetAllComments", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllComments(Int32) on controller E_Commerce.Controllers.ReviewController (E-Commerce).
2024-11-17 14:59:35.053 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:59:35.055 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ReviewController.GetAverageRatingByProduct (E-Commerce)'
2024-11-17 14:59:35.059 +03:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProductById(Int32) on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:59:35.064 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetRandom3ProductsBySubcategory (E-Commerce)'
2024-11-17 14:59:35.075 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 14:59:35.080 +03:00 [INF] Route matched with {action = "GetAverageRatingByProduct", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAverageRatingByProduct(Int32) on controller E_Commerce.Controllers.ReviewController (E-Commerce).
2024-11-17 14:59:35.081 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[comment_id], [c].[comment], [c].[date], [c].[email], [c].[name], [c].[product_id], [c].[rating], [c].[status]
FROM [Comment] AS [c]
WHERE [c].[product_id] = @__productId_0
ORDER BY [c].[date] DESC
2024-11-17 14:59:35.086 +03:00 [INF] Route matched with {action = "GetRandom3ProductsBySubcategory", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetRandom3ProductsBySubcategory(Int32) on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:59:35.097 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[comment_id], [c].[comment], [c].[date], [c].[email], [c].[name], [c].[product_id], [c].[rating], [c].[status]
FROM [Comment] AS [c]
WHERE [c].[product_id] = @__productId_0
2024-11-17 14:59:35.091 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 14:59:35.095 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Comment, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:59:35.101 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-17 14:59:35.106 +03:00 [INF] Executed action E_Commerce.Controllers.ReviewController.GetAllComments (E-Commerce) in 33.5889ms
2024-11-17 14:59:35.104 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[product_id] = @__productId_0
2024-11-17 14:59:35.101 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[created_at], [t].[description], [t].[image], [t].[is_deleted], [t].[name], [t].[price], [t].[quantity], [t].[Status], [t].[store_id], [t].[subcategory_id], [t].[store_id0], [t].[subcategory_id0], [t].[category_id0], [c0].[cart_item_id], [c0].[cart_id], [c0].[product_id], [c0].[quantity], [c0].[StoreId], [c1].[comment_id], [c1].[comment], [c1].[comment_date], [c1].[product_id], [c1].[rating], [c1].[user_id], [c2].[comment_id], [c2].[comment], [c2].[date], [c2].[email], [c2].[name], [c2].[product_id], [c2].[rating], [c2].[status], [o].[Order_Item_id], [o].[order_id], [o].[product_id], [o].[quantity], [p0].[discount_id], [p0].[discount_percentage], [p0].[end_date], [p0].[product_id], [p0].[start_date], [p1].[ImageID], [p1].[ImagePath], [p1].[ProductID], [t0].[variant_id], [t0].[color_id], [t0].[image], [t0].[product_id], [t0].[quantity], [t0].[size_id], [t0].[tag_id], [t0].[tag_id0], [t0].[tag_name], [t].[address], [t].[amount], [t].[background_image], [t].[city], [t].[country], [t].[created_at0], [t].[end_date], [t].[phone_number], [t].[plan_name], [t].[plan_type], [t].[start_date], [t].[status0], [t].[store_description], [t].[store_logo], [t].[store_name], [t].[zip_code], [w].[wishlist_id], [w].[added_at], [w].[product_id], [w].[user_id], [t2].[ProductID], [t2].[ColorID], [t2].[ColorID0], [t2].[ColorName], [t3].[ProductID], [t3].[SizeID], [t3].[SizeID0], [t3].[SizeName], [t4].[ProductID], [t4].[TagID], [t4].[tag_id], [t4].[tag_name], [t].[category_id], [t].[subcategory_name], [t].[created_at1], [t].[description0], [t].[image0], [t].[name0]
FROM (
    SELECT TOP(1) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id], [s].[store_id] AS [store_id0], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at] AS [created_at0], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status] AS [status0], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code], [s0].[subcategory_id] AS [subcategory_id0], [s0].[category_id], [s0].[subcategory_name], [c].[category_id] AS [category_id0], [c].[created_at] AS [created_at1], [c].[description] AS [description0], [c].[image] AS [image0], [c].[name] AS [name0]
    FROM [Products] AS [p]
    LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
    LEFT JOIN [SubCategories] AS [s0] ON [p].[subcategory_id] = [s0].[subcategory_id]
    LEFT JOIN [Categories] AS [c] ON [s0].[category_id] = [c].[category_id]
    WHERE [p].[product_id] = @__id_0 AND [p].[is_deleted] = CAST(0 AS bit) AND [p].[Status] = 'approved' AND [s].[status] = N'active'
) AS [t]
LEFT JOIN [Cart_Item] AS [c0] ON [t].[product_id] = [c0].[product_id]
LEFT JOIN [Comments] AS [c1] ON [t].[product_id] = [c1].[product_id]
LEFT JOIN [Comment] AS [c2] ON [t].[product_id] = [c2].[product_id]
LEFT JOIN [OrderItems] AS [o] ON [t].[product_id] = [o].[product_id]
LEFT JOIN [ProductDiscounts] AS [p0] ON [t].[product_id] = [p0].[product_id]
LEFT JOIN [ProductImages] AS [p1] ON [t].[product_id] = [p1].[ProductID]
LEFT JOIN (
    SELECT [v].[variant_id], [v].[color_id], [v].[image], [v].[product_id], [v].[quantity], [v].[size_id], [v].[tag_id], [t1].[tag_id] AS [tag_id0], [t1].[tag_name]
    FROM [Variant] AS [v]
    LEFT JOIN [Tags] AS [t1] ON [v].[tag_id] = [t1].[tag_id]
) AS [t0] ON [t].[product_id] = [t0].[product_id]
LEFT JOIN [Wishlist] AS [w] ON [t].[product_id] = [w].[product_id]
LEFT JOIN (
    SELECT [p2].[ProductID], [p2].[ColorID], [c3].[ColorID] AS [ColorID0], [c3].[ColorName]
    FROM [ProductColors] AS [p2]
    INNER JOIN [Colors] AS [c3] ON [p2].[ColorID] = [c3].[ColorID]
) AS [t2] ON [t].[product_id] = [t2].[ProductID]
LEFT JOIN (
    SELECT [p3].[ProductID], [p3].[SizeID], [s1].[SizeID] AS [SizeID0], [s1].[SizeName]
    FROM [ProductSize] AS [p3]
    INNER JOIN [Sizes] AS [s1] ON [p3].[SizeID] = [s1].[SizeID]
) AS [t3] ON [t].[product_id] = [t3].[ProductID]
LEFT JOIN (
    SELECT [p4].[ProductID], [p4].[TagID], [t5].[tag_id], [t5].[tag_name]
    FROM [ProductTags] AS [p4]
    INNER JOIN [Tags] AS [t5] ON [p4].[TagID] = [t5].[tag_id]
) AS [t4] ON [t].[product_id] = [t4].[ProductID]
ORDER BY [t].[product_id], [t].[store_id0], [t].[subcategory_id0], [t].[category_id0], [c0].[cart_item_id], [c1].[comment_id], [c2].[comment_id], [o].[Order_Item_id], [p0].[discount_id], [p1].[ImageID], [t0].[variant_id], [t0].[tag_id0], [w].[wishlist_id], [t2].[ProductID], [t2].[ColorID], [t2].[ColorID0], [t3].[ProductID], [t3].[SizeID], [t3].[SizeID0], [t4].[ProductID], [t4].[TagID]
2024-11-17 14:59:35.104 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:59:35.120 +03:00 [INF] Executed action E_Commerce.Controllers.ReviewController.GetAverageRatingByProduct (E-Commerce) in 28.4249ms
2024-11-17 14:59:35.122 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ReviewController.GetAllComments (E-Commerce)'
2024-11-17 14:59:35.131 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__subcategoryId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[product_id] AS [productId], [p].[name], [p].[description], [p].[price], [p].[image]
FROM [Products] AS [p]
LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
WHERE [p].[subcategory_id] = @__subcategoryId_0 AND [p].[Status] = 'approved' AND [s].[status] = N'active' AND [p].[product_id] <> @__productId_1 AND ([p].[is_deleted] IS NULL OR [p].[is_deleted] = CAST(0 AS bit))
ORDER BY NEWID()
2024-11-17 14:59:35.134 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.Models.Product'.
2024-11-17 14:59:35.135 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 46.1818ms
2024-11-17 14:59:35.137 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ReviewController.GetAverageRatingByProduct (E-Commerce)'
2024-11-17 14:59:35.139 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Review/getAllComments/136 - 200 null application/json; charset=utf-8 133.0482ms
2024-11-17 14:59:35.141 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType17`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:59:35.144 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetProductById (E-Commerce) in 60.6162ms
2024-11-17 14:59:35.145 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:59:35.146 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Review/AverageRatingByProduct/136 - 200 null application/json; charset=utf-8 138.828ms
2024-11-17 14:59:35.151 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetRandom3ProductsBySubcategory (E-Commerce) in 53.6566ms
2024-11-17 14:59:35.153 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetProductById (E-Commerce)'
2024-11-17 14:59:35.154 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 146.696ms
2024-11-17 14:59:35.159 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetRandom3ProductsBySubcategory (E-Commerce)'
2024-11-17 14:59:35.160 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/Product/136 - 200 null application/json; charset=utf-8 154.3155ms
2024-11-17 14:59:35.163 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/GetRandom3ProductsBySubcategory/136 - 200 null application/json; charset=utf-8 157.969ms
2024-11-17 14:59:45.016 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/Products - null null
2024-11-17 14:59:45.018 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 14:59:45.020 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Categories/CategoriesWithSubcategories - null null
2024-11-17 14:59:45.022 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:59:45.033 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetProducts (E-Commerce)'
2024-11-17 14:59:45.035 +03:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:59:45.027 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:59:45.038 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:59:45.040 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:59:45.040 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 14:59:45.041 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.GetCategoriesWithSubcategories (E-Commerce)'
2024-11-17 14:59:45.045 +03:00 [INF] Route matched with {action = "GetCategoriesWithSubcategories", controller = "Categories"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCategoriesWithSubcategories() on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2024-11-17 14:59:45.046 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 14:59:45.053 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:59:45.053 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[category_id], [c].[name], [c].[image], [c].[description], [s].[subcategory_id], [s].[subcategory_name]
FROM [Categories] AS [c]
LEFT JOIN [SubCategories] AS [s] ON [c].[category_id] = [s].[category_id]
ORDER BY [c].[category_id]
2024-11-17 14:59:45.055 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 11.274ms
2024-11-17 14:59:45.059 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType6`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType7`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:59:45.060 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:59:45.062 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.GetCategoriesWithSubcategories (E-Commerce) in 13.9979ms
2024-11-17 14:59:45.063 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id], [s0].[store_id], [p0].[ImageID], [p0].[ImagePath], [p0].[ProductID], [c].[comment_id], [c].[comment], [c].[date], [c].[email], [c].[name], [c].[product_id], [c].[rating], [c].[status], [t0].[ProductID], [t0].[TagID], [t0].[tag_id], [t0].[tag_name], [s0].[address], [s0].[amount], [s0].[background_image], [s0].[city], [s0].[country], [s0].[created_at], [s0].[end_date], [s0].[phone_number], [s0].[plan_name], [s0].[plan_type], [s0].[start_date], [s0].[status], [s0].[store_description], [s0].[store_logo], [s0].[store_name], [s0].[zip_code]
FROM [Products] AS [p]
LEFT JOIN [Stores] AS [s0] ON [p].[store_id] = [s0].[store_id]
LEFT JOIN [ProductImages] AS [p0] ON [p].[product_id] = [p0].[ProductID]
LEFT JOIN [Comment] AS [c] ON [p].[product_id] = [c].[product_id]
LEFT JOIN (
    SELECT [p1].[ProductID], [p1].[TagID], [t].[tag_id], [t].[tag_name]
    FROM [ProductTags] AS [p1]
    INNER JOIN [Tags] AS [t] ON [p1].[TagID] = [t].[tag_id]
) AS [t0] ON [p].[product_id] = [t0].[ProductID]
WHERE [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [p].[store_id] AND [s].[status] = N'active')
ORDER BY [p].[product_id] DESC, [s0].[store_id], [p0].[ImageID], [c].[comment_id], [t0].[ProductID], [t0].[TagID]
2024-11-17 14:59:45.064 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 45.7771ms
2024-11-17 14:59:45.066 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.GetCategoriesWithSubcategories (E-Commerce)'
2024-11-17 14:59:45.078 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Categories/CategoriesWithSubcategories - 200 null application/json; charset=utf-8 59.0184ms
2024-11-17 14:59:45.083 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:59:45.113 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetProducts (E-Commerce) in 76.0633ms
2024-11-17 14:59:45.117 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetProducts (E-Commerce)'
2024-11-17 14:59:45.119 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/Products - 200 null application/json; charset=utf-8 102.5656ms
2024-11-17 14:59:46.428 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/Product/132 - null null
2024-11-17 14:59:46.428 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Review/getAllComments/132 - null null
2024-11-17 14:59:46.428 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Review/AverageRatingByProduct/132 - null null
2024-11-17 14:59:46.428 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 14:59:46.428 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/GetRandom3ProductsBySubcategory/132 - null null
2024-11-17 14:59:46.434 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:59:46.438 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:59:46.442 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:59:46.444 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:59:46.447 +03:00 [INF] CORS policy execution successful.
2024-11-17 14:59:46.447 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetProductById (E-Commerce)'
2024-11-17 14:59:46.448 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ReviewController.GetAllComments (E-Commerce)'
2024-11-17 14:59:46.449 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ReviewController.GetAverageRatingByProduct (E-Commerce)'
2024-11-17 14:59:46.450 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:59:46.452 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetRandom3ProductsBySubcategory (E-Commerce)'
2024-11-17 14:59:46.455 +03:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProductById(Int32) on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:59:46.456 +03:00 [INF] Route matched with {action = "GetAllComments", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllComments(Int32) on controller E_Commerce.Controllers.ReviewController (E-Commerce).
2024-11-17 14:59:46.458 +03:00 [INF] Route matched with {action = "GetAverageRatingByProduct", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAverageRatingByProduct(Int32) on controller E_Commerce.Controllers.ReviewController (E-Commerce).
2024-11-17 14:59:46.459 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 14:59:46.460 +03:00 [INF] Route matched with {action = "GetRandom3ProductsBySubcategory", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetRandom3ProductsBySubcategory(Int32) on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 14:59:46.467 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[comment_id], [c].[comment], [c].[date], [c].[email], [c].[name], [c].[product_id], [c].[rating], [c].[status]
FROM [Comment] AS [c]
WHERE [c].[product_id] = @__productId_0
ORDER BY [c].[date] DESC
2024-11-17 14:59:46.469 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[comment_id], [c].[comment], [c].[date], [c].[email], [c].[name], [c].[product_id], [c].[rating], [c].[status]
FROM [Comment] AS [c]
WHERE [c].[product_id] = @__productId_0
2024-11-17 14:59:46.472 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[created_at], [t].[description], [t].[image], [t].[is_deleted], [t].[name], [t].[price], [t].[quantity], [t].[Status], [t].[store_id], [t].[subcategory_id], [t].[store_id0], [t].[subcategory_id0], [t].[category_id0], [c0].[cart_item_id], [c0].[cart_id], [c0].[product_id], [c0].[quantity], [c0].[StoreId], [c1].[comment_id], [c1].[comment], [c1].[comment_date], [c1].[product_id], [c1].[rating], [c1].[user_id], [c2].[comment_id], [c2].[comment], [c2].[date], [c2].[email], [c2].[name], [c2].[product_id], [c2].[rating], [c2].[status], [o].[Order_Item_id], [o].[order_id], [o].[product_id], [o].[quantity], [p0].[discount_id], [p0].[discount_percentage], [p0].[end_date], [p0].[product_id], [p0].[start_date], [p1].[ImageID], [p1].[ImagePath], [p1].[ProductID], [t0].[variant_id], [t0].[color_id], [t0].[image], [t0].[product_id], [t0].[quantity], [t0].[size_id], [t0].[tag_id], [t0].[tag_id0], [t0].[tag_name], [t].[address], [t].[amount], [t].[background_image], [t].[city], [t].[country], [t].[created_at0], [t].[end_date], [t].[phone_number], [t].[plan_name], [t].[plan_type], [t].[start_date], [t].[status0], [t].[store_description], [t].[store_logo], [t].[store_name], [t].[zip_code], [w].[wishlist_id], [w].[added_at], [w].[product_id], [w].[user_id], [t2].[ProductID], [t2].[ColorID], [t2].[ColorID0], [t2].[ColorName], [t3].[ProductID], [t3].[SizeID], [t3].[SizeID0], [t3].[SizeName], [t4].[ProductID], [t4].[TagID], [t4].[tag_id], [t4].[tag_name], [t].[category_id], [t].[subcategory_name], [t].[created_at1], [t].[description0], [t].[image0], [t].[name0]
FROM (
    SELECT TOP(1) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id], [s].[store_id] AS [store_id0], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at] AS [created_at0], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status] AS [status0], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code], [s0].[subcategory_id] AS [subcategory_id0], [s0].[category_id], [s0].[subcategory_name], [c].[category_id] AS [category_id0], [c].[created_at] AS [created_at1], [c].[description] AS [description0], [c].[image] AS [image0], [c].[name] AS [name0]
    FROM [Products] AS [p]
    LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
    LEFT JOIN [SubCategories] AS [s0] ON [p].[subcategory_id] = [s0].[subcategory_id]
    LEFT JOIN [Categories] AS [c] ON [s0].[category_id] = [c].[category_id]
    WHERE [p].[product_id] = @__id_0 AND [p].[is_deleted] = CAST(0 AS bit) AND [p].[Status] = 'approved' AND [s].[status] = N'active'
) AS [t]
LEFT JOIN [Cart_Item] AS [c0] ON [t].[product_id] = [c0].[product_id]
LEFT JOIN [Comments] AS [c1] ON [t].[product_id] = [c1].[product_id]
LEFT JOIN [Comment] AS [c2] ON [t].[product_id] = [c2].[product_id]
LEFT JOIN [OrderItems] AS [o] ON [t].[product_id] = [o].[product_id]
LEFT JOIN [ProductDiscounts] AS [p0] ON [t].[product_id] = [p0].[product_id]
LEFT JOIN [ProductImages] AS [p1] ON [t].[product_id] = [p1].[ProductID]
LEFT JOIN (
    SELECT [v].[variant_id], [v].[color_id], [v].[image], [v].[product_id], [v].[quantity], [v].[size_id], [v].[tag_id], [t1].[tag_id] AS [tag_id0], [t1].[tag_name]
    FROM [Variant] AS [v]
    LEFT JOIN [Tags] AS [t1] ON [v].[tag_id] = [t1].[tag_id]
) AS [t0] ON [t].[product_id] = [t0].[product_id]
LEFT JOIN [Wishlist] AS [w] ON [t].[product_id] = [w].[product_id]
LEFT JOIN (
    SELECT [p2].[ProductID], [p2].[ColorID], [c3].[ColorID] AS [ColorID0], [c3].[ColorName]
    FROM [ProductColors] AS [p2]
    INNER JOIN [Colors] AS [c3] ON [p2].[ColorID] = [c3].[ColorID]
) AS [t2] ON [t].[product_id] = [t2].[ProductID]
LEFT JOIN (
    SELECT [p3].[ProductID], [p3].[SizeID], [s1].[SizeID] AS [SizeID0], [s1].[SizeName]
    FROM [ProductSize] AS [p3]
    INNER JOIN [Sizes] AS [s1] ON [p3].[SizeID] = [s1].[SizeID]
) AS [t3] ON [t].[product_id] = [t3].[ProductID]
LEFT JOIN (
    SELECT [p4].[ProductID], [p4].[TagID], [t5].[tag_id], [t5].[tag_name]
    FROM [ProductTags] AS [p4]
    INNER JOIN [Tags] AS [t5] ON [p4].[TagID] = [t5].[tag_id]
) AS [t4] ON [t].[product_id] = [t4].[ProductID]
ORDER BY [t].[product_id], [t].[store_id0], [t].[subcategory_id0], [t].[category_id0], [c0].[cart_item_id], [c1].[comment_id], [c2].[comment_id], [o].[Order_Item_id], [p0].[discount_id], [p1].[ImageID], [t0].[variant_id], [t0].[tag_id0], [w].[wishlist_id], [t2].[ProductID], [t2].[ColorID], [t2].[ColorID0], [t3].[ProductID], [t3].[SizeID], [t3].[SizeID0], [t4].[ProductID], [t4].[TagID]
2024-11-17 14:59:46.475 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 14:59:46.477 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[product_id] = @__productId_0
2024-11-17 14:59:46.479 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Comment, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:59:46.485 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-17 14:59:46.493 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:59:46.500 +03:00 [INF] Executed action E_Commerce.Controllers.ReviewController.GetAllComments (E-Commerce) in 34.7041ms
2024-11-17 14:59:46.501 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_2='?' (DbType = Int32), @__subcategoryId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[product_id] AS [productId], [p].[name], [p].[description], [p].[price], [p].[image]
FROM [Products] AS [p]
LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
WHERE [p].[subcategory_id] = @__subcategoryId_0 AND [p].[Status] = 'approved' AND [s].[status] = N'active' AND [p].[product_id] <> @__productId_1 AND ([p].[is_deleted] IS NULL OR [p].[is_deleted] = CAST(0 AS bit))
ORDER BY NEWID()
2024-11-17 14:59:46.502 +03:00 [INF] Executed action E_Commerce.Controllers.ReviewController.GetAverageRatingByProduct (E-Commerce) in 35.0236ms
2024-11-17 14:59:46.504 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 31.4703ms
2024-11-17 14:59:46.505 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ReviewController.GetAllComments (E-Commerce)'
2024-11-17 14:59:46.508 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType17`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 14:59:46.509 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ReviewController.GetAverageRatingByProduct (E-Commerce)'
2024-11-17 14:59:46.510 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 14:59:46.511 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Review/getAllComments/132 - 200 null application/json; charset=utf-8 82.9542ms
2024-11-17 14:59:46.514 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.Models.Product'.
2024-11-17 14:59:46.515 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetRandom3ProductsBySubcategory (E-Commerce) in 39.9755ms
2024-11-17 14:59:46.516 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Review/AverageRatingByProduct/132 - 200 null application/json; charset=utf-8 88.6966ms
2024-11-17 14:59:46.518 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 90.0911ms
2024-11-17 14:59:46.525 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetRandom3ProductsBySubcategory (E-Commerce)'
2024-11-17 14:59:46.526 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetProductById (E-Commerce) in 62.8588ms
2024-11-17 14:59:46.533 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/GetRandom3ProductsBySubcategory/132 - 200 null application/json; charset=utf-8 105.4436ms
2024-11-17 14:59:46.536 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetProductById (E-Commerce)'
2024-11-17 14:59:46.539 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/Product/132 - 200 null application/json; charset=utf-8 111.6953ms
2024-11-17 15:07:55.686 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 15:07:55.702 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:07:55.703 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 15:07:55.706 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 15:07:55.744 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 15:07:55.751 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:07:55.753 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 44.3484ms
2024-11-17 15:07:55.763 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 15:07:55.765 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 80.7325ms
2024-11-17 15:08:06.465 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 15:08:06.470 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:08:06.471 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 15:08:06.473 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 15:08:06.483 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 15:08:06.486 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:08:06.488 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 13.0908ms
2024-11-17 15:08:06.490 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 15:08:06.491 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 27.2074ms
2024-11-17 15:08:38.344 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 15:08:38.357 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:08:38.358 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 15:08:38.360 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 15:08:38.377 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 15:08:38.384 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:08:38.387 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 24.2672ms
2024-11-17 15:08:38.390 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 15:08:38.391 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 47.5863ms
2024-11-17 15:08:48.076 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 15:08:48.081 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:08:48.083 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 15:08:48.084 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 15:08:48.089 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 15:08:48.092 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:08:48.094 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 7.1395ms
2024-11-17 15:08:48.098 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 15:08:48.099 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 23.7079ms
2024-11-17 15:08:48.188 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 15:08:48.192 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:08:48.193 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 15:08:48.195 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 15:08:48.201 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 15:08:48.204 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:08:48.206 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 7.8797ms
2024-11-17 15:08:48.207 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 15:08:48.209 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 20.2586ms
2024-11-17 15:08:48.209 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 15:08:48.227 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:08:48.228 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 15:08:48.230 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 15:08:48.236 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 15:08:48.240 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:08:48.242 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 8.4549ms
2024-11-17 15:08:48.245 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 15:08:48.246 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 37.0607ms
2024-11-17 15:08:48.304 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/Product/132 - null null
2024-11-17 15:08:48.304 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/GetRandom3ProductsBySubcategory/132 - null null
2024-11-17 15:08:48.306 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Review/AverageRatingByProduct/132 - null null
2024-11-17 15:08:48.305 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Review/getAllComments/132 - null null
2024-11-17 15:08:48.306 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 15:08:48.318 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:08:48.320 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:08:48.323 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:08:48.326 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:08:48.331 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:08:48.333 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetProductById (E-Commerce)'
2024-11-17 15:08:48.335 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetRandom3ProductsBySubcategory (E-Commerce)'
2024-11-17 15:08:48.336 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ReviewController.GetAverageRatingByProduct (E-Commerce)'
2024-11-17 15:08:48.337 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ReviewController.GetAllComments (E-Commerce)'
2024-11-17 15:08:48.338 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 15:08:48.339 +03:00 [INF] Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProductById(Int32) on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 15:08:48.349 +03:00 [INF] Route matched with {action = "GetRandom3ProductsBySubcategory", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetRandom3ProductsBySubcategory(Int32) on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 15:08:48.351 +03:00 [INF] Route matched with {action = "GetAverageRatingByProduct", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAverageRatingByProduct(Int32) on controller E_Commerce.Controllers.ReviewController (E-Commerce).
2024-11-17 15:08:48.353 +03:00 [INF] Route matched with {action = "GetAllComments", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllComments(Int32) on controller E_Commerce.Controllers.ReviewController (E-Commerce).
2024-11-17 15:08:48.354 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 15:08:48.380 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[product_id] = @__productId_0
2024-11-17 15:08:48.380 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[comment_id], [c].[comment], [c].[date], [c].[email], [c].[name], [c].[product_id], [c].[rating], [c].[status]
FROM [Comment] AS [c]
WHERE [c].[product_id] = @__productId_0
2024-11-17 15:08:48.386 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-17 15:08:48.387 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__subcategoryId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[product_id] AS [productId], [p].[name], [p].[description], [p].[price], [p].[image]
FROM [Products] AS [p]
LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
WHERE [p].[subcategory_id] = @__subcategoryId_0 AND [p].[Status] = 'approved' AND [s].[status] = N'active' AND [p].[product_id] <> @__productId_1 AND ([p].[is_deleted] IS NULL OR [p].[is_deleted] = CAST(0 AS bit))
ORDER BY NEWID()
2024-11-17 15:08:48.388 +03:00 [INF] Executed action E_Commerce.Controllers.ReviewController.GetAverageRatingByProduct (E-Commerce) in 27.6393ms
2024-11-17 15:08:48.388 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[created_at], [t].[description], [t].[image], [t].[is_deleted], [t].[name], [t].[price], [t].[quantity], [t].[Status], [t].[store_id], [t].[subcategory_id], [t].[store_id0], [t].[subcategory_id0], [t].[category_id0], [c0].[cart_item_id], [c0].[cart_id], [c0].[product_id], [c0].[quantity], [c0].[StoreId], [c1].[comment_id], [c1].[comment], [c1].[comment_date], [c1].[product_id], [c1].[rating], [c1].[user_id], [c2].[comment_id], [c2].[comment], [c2].[date], [c2].[email], [c2].[name], [c2].[product_id], [c2].[rating], [c2].[status], [o].[Order_Item_id], [o].[order_id], [o].[product_id], [o].[quantity], [p0].[discount_id], [p0].[discount_percentage], [p0].[end_date], [p0].[product_id], [p0].[start_date], [p1].[ImageID], [p1].[ImagePath], [p1].[ProductID], [t0].[variant_id], [t0].[color_id], [t0].[image], [t0].[product_id], [t0].[quantity], [t0].[size_id], [t0].[tag_id], [t0].[tag_id0], [t0].[tag_name], [t].[address], [t].[amount], [t].[background_image], [t].[city], [t].[country], [t].[created_at0], [t].[end_date], [t].[phone_number], [t].[plan_name], [t].[plan_type], [t].[start_date], [t].[status0], [t].[store_description], [t].[store_logo], [t].[store_name], [t].[zip_code], [w].[wishlist_id], [w].[added_at], [w].[product_id], [w].[user_id], [t2].[ProductID], [t2].[ColorID], [t2].[ColorID0], [t2].[ColorName], [t3].[ProductID], [t3].[SizeID], [t3].[SizeID0], [t3].[SizeName], [t4].[ProductID], [t4].[TagID], [t4].[tag_id], [t4].[tag_name], [t].[category_id], [t].[subcategory_name], [t].[created_at1], [t].[description0], [t].[image0], [t].[name0]
FROM (
    SELECT TOP(1) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id], [s].[store_id] AS [store_id0], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at] AS [created_at0], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status] AS [status0], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code], [s0].[subcategory_id] AS [subcategory_id0], [s0].[category_id], [s0].[subcategory_name], [c].[category_id] AS [category_id0], [c].[created_at] AS [created_at1], [c].[description] AS [description0], [c].[image] AS [image0], [c].[name] AS [name0]
    FROM [Products] AS [p]
    LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
    LEFT JOIN [SubCategories] AS [s0] ON [p].[subcategory_id] = [s0].[subcategory_id]
    LEFT JOIN [Categories] AS [c] ON [s0].[category_id] = [c].[category_id]
    WHERE [p].[product_id] = @__id_0 AND [p].[is_deleted] = CAST(0 AS bit) AND [p].[Status] = 'approved' AND [s].[status] = N'active'
) AS [t]
LEFT JOIN [Cart_Item] AS [c0] ON [t].[product_id] = [c0].[product_id]
LEFT JOIN [Comments] AS [c1] ON [t].[product_id] = [c1].[product_id]
LEFT JOIN [Comment] AS [c2] ON [t].[product_id] = [c2].[product_id]
LEFT JOIN [OrderItems] AS [o] ON [t].[product_id] = [o].[product_id]
LEFT JOIN [ProductDiscounts] AS [p0] ON [t].[product_id] = [p0].[product_id]
LEFT JOIN [ProductImages] AS [p1] ON [t].[product_id] = [p1].[ProductID]
LEFT JOIN (
    SELECT [v].[variant_id], [v].[color_id], [v].[image], [v].[product_id], [v].[quantity], [v].[size_id], [v].[tag_id], [t1].[tag_id] AS [tag_id0], [t1].[tag_name]
    FROM [Variant] AS [v]
    LEFT JOIN [Tags] AS [t1] ON [v].[tag_id] = [t1].[tag_id]
) AS [t0] ON [t].[product_id] = [t0].[product_id]
LEFT JOIN [Wishlist] AS [w] ON [t].[product_id] = [w].[product_id]
LEFT JOIN (
    SELECT [p2].[ProductID], [p2].[ColorID], [c3].[ColorID] AS [ColorID0], [c3].[ColorName]
    FROM [ProductColors] AS [p2]
    INNER JOIN [Colors] AS [c3] ON [p2].[ColorID] = [c3].[ColorID]
) AS [t2] ON [t].[product_id] = [t2].[ProductID]
LEFT JOIN (
    SELECT [p3].[ProductID], [p3].[SizeID], [s1].[SizeID] AS [SizeID0], [s1].[SizeName]
    FROM [ProductSize] AS [p3]
    INNER JOIN [Sizes] AS [s1] ON [p3].[SizeID] = [s1].[SizeID]
) AS [t3] ON [t].[product_id] = [t3].[ProductID]
LEFT JOIN (
    SELECT [p4].[ProductID], [p4].[TagID], [t5].[tag_id], [t5].[tag_name]
    FROM [ProductTags] AS [p4]
    INNER JOIN [Tags] AS [t5] ON [p4].[TagID] = [t5].[tag_id]
) AS [t4] ON [t].[product_id] = [t4].[ProductID]
ORDER BY [t].[product_id], [t].[store_id0], [t].[subcategory_id0], [t].[category_id0], [c0].[cart_item_id], [c1].[comment_id], [c2].[comment_id], [o].[Order_Item_id], [p0].[discount_id], [p1].[ImageID], [t0].[variant_id], [t0].[tag_id0], [w].[wishlist_id], [t2].[ProductID], [t2].[ColorID], [t2].[ColorID0], [t3].[ProductID], [t3].[SizeID], [t3].[SizeID0], [t4].[ProductID], [t4].[TagID]
2024-11-17 15:08:48.388 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[comment_id], [c].[comment], [c].[date], [c].[email], [c].[name], [c].[product_id], [c].[rating], [c].[status]
FROM [Comment] AS [c]
WHERE [c].[product_id] = @__productId_0
ORDER BY [c].[date] DESC
2024-11-17 15:08:48.389 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 15:08:48.401 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType17`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:08:48.403 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ReviewController.GetAverageRatingByProduct (E-Commerce)'
2024-11-17 15:08:48.410 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.Models.Product'.
2024-11-17 15:08:48.418 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetRandom3ProductsBySubcategory (E-Commerce) in 59.9098ms
2024-11-17 15:08:48.420 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Review/AverageRatingByProduct/132 - 200 null application/json; charset=utf-8 113.6375ms
2024-11-17 15:08:48.411 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Comment, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:08:48.415 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:08:48.434 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetProductById (E-Commerce) in 77.5328ms
2024-11-17 15:08:48.435 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetRandom3ProductsBySubcategory (E-Commerce)'
2024-11-17 15:08:48.441 +03:00 [INF] Executed action E_Commerce.Controllers.ReviewController.GetAllComments (E-Commerce) in 77.849ms
2024-11-17 15:08:48.442 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 75.1662ms
2024-11-17 15:08:48.444 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetProductById (E-Commerce)'
2024-11-17 15:08:48.445 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/GetRandom3ProductsBySubcategory/132 - 200 null application/json; charset=utf-8 140.6881ms
2024-11-17 15:08:48.446 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ReviewController.GetAllComments (E-Commerce)'
2024-11-17 15:08:48.448 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 15:08:48.450 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/Product/132 - 200 null application/json; charset=utf-8 145.6571ms
2024-11-17 15:08:48.455 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Review/getAllComments/132 - 200 null application/json; charset=utf-8 150.0106ms
2024-11-17 15:08:48.456 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 149.898ms
2024-11-17 15:09:18.698 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - null null
2024-11-17 15:09:18.713 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:09:18.715 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 15:09:18.717 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 15:09:18.734 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[cart_id] AS [CartId], [c].[cart_item_id] AS [CartItemId], [c].[quantity] AS [Quantity], [p].[name] AS [Name], [p].[price] AS [Price], [p].[image] AS [Image], [c].[product_id] AS [ProductId], [c].[StoreId]
FROM [Cart_Item] AS [c]
LEFT JOIN [Cart] AS [c0] ON [c].[cart_id] = [c0].[cart_id]
LEFT JOIN [Products] AS [p] ON [c].[product_id] = [p].[product_id]
WHERE [c0].[user_id] = @__userId_0 AND [c0].[status] = 'open'
2024-11-17 15:09:18.738 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.dto.CartItemsResponsive, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:09:18.740 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 19.4425ms
2024-11-17 15:09:18.748 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 15:09:18.751 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/32 - 200 null application/json; charset=utf-8 53.2118ms
2024-11-17 15:19:17.285 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/contactUs/getFormById/0 - null null
2024-11-17 15:19:17.298 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:19:17.300 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.contactUsController.getFormById (E-Commerce)'
2024-11-17 15:19:17.306 +03:00 [INF] Route matched with {action = "getFormById", controller = "contactUs"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getFormById(Int32) on controller E_Commerce.Controllers.contactUsController (E-Commerce).
2024-11-17 15:19:17.362 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[contact_id], [c].[admin_response], [c].[email], [c].[message], [c].[name], [c].[response_date], [c].[sent_date], [c].[status], [c].[sub]
FROM [Contact] AS [c]
WHERE [c].[contact_id] = @__id_0
2024-11-17 15:19:17.366 +03:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-11-17 15:19:17.368 +03:00 [INF] Executed action E_Commerce.Controllers.contactUsController.getFormById (E-Commerce) in 59.7957ms
2024-11-17 15:19:17.370 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.contactUsController.getFormById (E-Commerce)'
2024-11-17 15:19:17.371 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/contactUs/getFormById/0 - 204 null null 86.5662ms
2024-11-17 15:19:22.566 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Users/Users - null null
2024-11-17 15:19:22.572 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:19:22.573 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.UsersController.GetUsers (E-Commerce)'
2024-11-17 15:19:22.579 +03:00 [INF] Route matched with {action = "GetUsers", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUsers() on controller E_Commerce.Controllers.UsersController (E-Commerce).
2024-11-17 15:19:22.596 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[user_id], [u].[address], [u].[created_at], [u].[email], [u].[image], [u].[name], [u].[password], [u].[passwordHash], [u].[passwordSalt], [u].[phone_number], [u].[points]
FROM [Users] AS [u]
2024-11-17 15:19:22.677 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.User, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:19:22.690 +03:00 [INF] Executed action E_Commerce.Controllers.UsersController.GetUsers (E-Commerce) in 107.4859ms
2024-11-17 15:19:22.692 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.UsersController.GetUsers (E-Commerce)'
2024-11-17 15:19:22.693 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Users/Users - 200 null application/json; charset=utf-8 127.4486ms
2024-11-17 15:19:42.297 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores - null null
2024-11-17 15:19:42.299 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/active - null null
2024-11-17 15:19:42.300 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/inactive - null null
2024-11-17 15:19:42.312 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:19:42.316 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:19:42.322 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:19:42.323 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetAllStores (E-Commerce)'
2024-11-17 15:19:42.325 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetActiveStores (E-Commerce)'
2024-11-17 15:19:42.329 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetInactiveStores (E-Commerce)'
2024-11-17 15:19:42.335 +03:00 [INF] Route matched with {action = "GetActiveStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetActiveStores() on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 15:19:42.336 +03:00 [INF] Route matched with {action = "GetAllStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllStores() on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 15:19:42.337 +03:00 [INF] Route matched with {action = "GetInactiveStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetInactiveStores() on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 15:19:42.346 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[end_date] < GETDATE() AND [s].[status] = N'active'
2024-11-17 15:19:42.349 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[end_date] < GETDATE() AND [s].[status] = N'active'
2024-11-17 15:19:42.353 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[status] = N'active'
2024-11-17 15:19:42.355 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[end_date] < GETDATE() AND [s].[status] = N'active'
2024-11-17 15:19:42.356 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:19:42.362 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetActiveStores (E-Commerce) in 23.2909ms
2024-11-17 15:19:42.364 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
2024-11-17 15:19:42.374 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetActiveStores (E-Commerce)'
2024-11-17 15:19:42.375 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[status] = N'inactive'
2024-11-17 15:19:42.377 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:19:42.378 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/active - 200 null application/json; charset=utf-8 79.3332ms
2024-11-17 15:19:42.381 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:19:42.386 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetAllStores (E-Commerce) in 44.5221ms
2024-11-17 15:19:42.400 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetInactiveStores (E-Commerce) in 55.5937ms
2024-11-17 15:19:42.402 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetAllStores (E-Commerce)'
2024-11-17 15:19:42.403 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetInactiveStores (E-Commerce)'
2024-11-17 15:19:42.406 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores - 200 null application/json; charset=utf-8 109.8222ms
2024-11-17 15:19:42.408 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/inactive - 200 null application/json; charset=utf-8 108.6649ms
2024-11-17 15:19:56.250 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/25 - null null
2024-11-17 15:19:56.250 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/Products/25 - null null
2024-11-17 15:19:56.258 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:19:56.266 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:19:56.267 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce)'
2024-11-17 15:19:56.271 +03:00 [INF] Route matched with {action = "GetStoreById", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetStoreById(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 15:19:56.269 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetProductsByStoreWithoutStatusCheck (E-Commerce)'
2024-11-17 15:19:56.278 +03:00 [INF] Route matched with {action = "GetProductsByStoreWithoutStatusCheck", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProductsByStoreWithoutStatusCheck(Int32) on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 15:19:56.279 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[store_id] = @__p_0
2024-11-17 15:19:56.282 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.Models.Store'.
2024-11-17 15:19:56.284 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce) in 11.0715ms
2024-11-17 15:19:56.287 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce)'
2024-11-17 15:19:56.289 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/25 - 200 null application/json; charset=utf-8 40.088ms
2024-11-17 15:19:56.298 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__storeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[store_id] = @__storeId_0
2024-11-17 15:19:56.315 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__storeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[store_id] = @__storeId_0 AND [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit)
ORDER BY [p].[product_id] DESC
2024-11-17 15:19:56.319 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:19:56.324 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetProductsByStoreWithoutStatusCheck (E-Commerce) in 44.1113ms
2024-11-17 15:19:56.325 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetProductsByStoreWithoutStatusCheck (E-Commerce)'
2024-11-17 15:19:56.327 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/Products/25 - 200 null application/json; charset=utf-8 78.0226ms
2024-11-17 15:20:29.889 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Orders/AllOrders - null null
2024-11-17 15:20:29.905 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:20:29.906 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrdersController.GetAllOrders (E-Commerce)'
2024-11-17 15:20:29.910 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllOrders() on controller E_Commerce.Controllers.OrdersController (E-Commerce).
2024-11-17 15:20:30.028 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[order_id], [o].[Date], CASE
    WHEN [u].[user_id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [u].[name], COALESCE([o].[store_id], 0), COALESCE((
    SELECT TOP(1) [s].[store_name]
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [o].[store_id]), 'Unknown Store'), (
    SELECT COALESCE(SUM(COALESCE([o0].[quantity], 0)), 0)
    FROM [OrderItems] AS [o0]
    WHERE [o].[order_id] = [o0].[order_id]), (
    SELECT COALESCE(SUM(CAST(COALESCE([o1].[quantity], 0) AS decimal(10,2)) * COALESCE([p].[price], 0.0)), 0.0)
    FROM [OrderItems] AS [o1]
    LEFT JOIN [Products] AS [p] ON [o1].[product_id] = [p].[product_id]
    WHERE [o].[order_id] = [o1].[order_id]), [o].[status], [u].[user_id], [t].[ProductId], [t].[ProductName], [t].[Quantity], [t].[Price], [t].[Order_Item_id]
FROM [Orders] AS [o]
LEFT JOIN [Users] AS [u] ON [o].[user_id] = [u].[user_id]
LEFT JOIN (
    SELECT [p0].[product_id] AS [ProductId], [p0].[name] AS [ProductName], [o2].[quantity] AS [Quantity], [p0].[price] AS [Price], [o2].[Order_Item_id], [o2].[order_id]
    FROM [OrderItems] AS [o2]
    LEFT JOIN [Products] AS [p0] ON [o2].[product_id] = [p0].[product_id]
) AS [t] ON [o].[order_id] = [t].[order_id]
ORDER BY [o].[Date] DESC, [o].[order_id], [u].[user_id], [t].[Order_Item_id]
2024-11-17 15:20:30.034 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Dto.OrderResponseDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:20:30.059 +03:00 [INF] Executed action E_Commerce.Controllers.OrdersController.GetAllOrders (E-Commerce) in 144.7195ms
2024-11-17 15:20:30.075 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrdersController.GetAllOrders (E-Commerce)'
2024-11-17 15:20:30.080 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Orders/AllOrders - 200 null application/json; charset=utf-8 191.2809ms
2024-11-17 15:20:45.514 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Orders/GetOrderDetails/80 - null null
2024-11-17 15:20:45.523 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:20:45.527 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrdersController.GetOrderDetails (E-Commerce)'
2024-11-17 15:20:45.534 +03:00 [INF] Route matched with {action = "GetOrderDetails", controller = "Orders"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetOrderDetails(Int32) on controller E_Commerce.Controllers.OrdersController (E-Commerce).
2024-11-17 15:20:45.576 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[order_id], [t].[Date], [t].[status], [t].[c], [t].[user_id], [t].[copon_id], [t0].[ProductId], [t0].[ProductName], [t0].[Quantity], [t0].[Price], [t0].[ProductImage], [t0].[Order_Item_id], [t].[name], [t].[email], [t].[image], [t].[phone_number], [t].[c0], [t].[c1]
FROM (
    SELECT TOP(1) [o].[order_id], [o].[Date], [o].[status], (
        SELECT COALESCE(SUM(CAST(COALESCE([o0].[quantity], 0) AS decimal(10,2)) * COALESCE([p].[price], 0.0)), 0.0)
        FROM [OrderItems] AS [o0]
        LEFT JOIN [Products] AS [p] ON [o0].[product_id] = [p].[product_id]
        WHERE [o].[order_id] = [o0].[order_id]) AS [c], [u].[name], [u].[email], [u].[image], [u].[phone_number], COALESCE([c].[name], N'No Coupon Applied') AS [c0], COALESCE([c].[amount], 0.0) AS [c1], [u].[user_id], [c].[copon_id]
    FROM [Orders] AS [o]
    LEFT JOIN [Users] AS [u] ON [o].[user_id] = [u].[user_id]
    LEFT JOIN [Copons] AS [c] ON [o].[copon_id] = [c].[copon_id]
    WHERE [o].[order_id] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [p0].[product_id] AS [ProductId], [p0].[name] AS [ProductName], COALESCE([o1].[quantity], 0) AS [Quantity], COALESCE([p0].[price], 0.0) AS [Price], [p0].[image] AS [ProductImage], [o1].[Order_Item_id], [o1].[order_id]
    FROM [OrderItems] AS [o1]
    LEFT JOIN [Products] AS [p0] ON [o1].[product_id] = [p0].[product_id]
) AS [t0] ON [t].[order_id] = [t0].[order_id]
ORDER BY [t].[order_id], [t].[user_id], [t].[copon_id], [t0].[Order_Item_id]
2024-11-17 15:20:45.589 +03:00 [INF] Executing OkObjectResult, writing value of type 'OrderDetailsDto'.
2024-11-17 15:20:45.603 +03:00 [INF] Executed action E_Commerce.Controllers.OrdersController.GetOrderDetails (E-Commerce) in 60.9106ms
2024-11-17 15:20:45.606 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrdersController.GetOrderDetails (E-Commerce)'
2024-11-17 15:20:45.609 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Orders/GetOrderDetails/80 - 200 null application/json; charset=utf-8 95.2121ms
2024-11-17 15:20:59.437 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Categories/AllCategories - null null
2024-11-17 15:20:59.448 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:20:59.450 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.GetAllCategories (E-Commerce)'
2024-11-17 15:20:59.457 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Categories"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCategories() on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2024-11-17 15:20:59.478 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[category_id], [c].[name], [c].[image], [c].[description], [s].[subcategory_id], [s].[subcategory_name]
FROM [Categories] AS [c]
LEFT JOIN [SubCategories] AS [s] ON [c].[category_id] = [s].[category_id]
ORDER BY [c].[category_id]
2024-11-17 15:20:59.483 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType6`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType7`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:20:59.485 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.GetAllCategories (E-Commerce) in 24.6409ms
2024-11-17 15:20:59.487 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.GetAllCategories (E-Commerce)'
2024-11-17 15:20:59.489 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Categories/AllCategories - 200 null application/json; charset=utf-8 52.2379ms
2024-11-17 15:23:02.642 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/PendingProducts - null null
2024-11-17 15:23:02.645 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/Products - null null
2024-11-17 15:23:02.664 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/RejectedProducts - null null
2024-11-17 15:23:02.671 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:23:02.674 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:23:02.677 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:23:02.677 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetPendingProducts (E-Commerce)'
2024-11-17 15:23:02.678 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetProducts (E-Commerce)'
2024-11-17 15:23:02.679 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetRejectedProducts (E-Commerce)'
2024-11-17 15:23:02.682 +03:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 15:23:02.683 +03:00 [INF] Route matched with {action = "GetPendingProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetPendingProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 15:23:02.686 +03:00 [INF] Route matched with {action = "GetRejectedProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetRejectedProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 15:23:02.739 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id], [s0].[store_id], [p0].[ImageID], [p0].[ImagePath], [p0].[ProductID], [c].[comment_id], [c].[comment], [c].[date], [c].[email], [c].[name], [c].[product_id], [c].[rating], [c].[status], [t0].[ProductID], [t0].[TagID], [t0].[tag_id], [t0].[tag_name], [s0].[address], [s0].[amount], [s0].[background_image], [s0].[city], [s0].[country], [s0].[created_at], [s0].[end_date], [s0].[phone_number], [s0].[plan_name], [s0].[plan_type], [s0].[start_date], [s0].[status], [s0].[store_description], [s0].[store_logo], [s0].[store_name], [s0].[zip_code]
FROM [Products] AS [p]
LEFT JOIN [Stores] AS [s0] ON [p].[store_id] = [s0].[store_id]
LEFT JOIN [ProductImages] AS [p0] ON [p].[product_id] = [p0].[ProductID]
LEFT JOIN [Comment] AS [c] ON [p].[product_id] = [c].[product_id]
LEFT JOIN (
    SELECT [p1].[ProductID], [p1].[TagID], [t].[tag_id], [t].[tag_name]
    FROM [ProductTags] AS [p1]
    INNER JOIN [Tags] AS [t] ON [p1].[TagID] = [t].[tag_id]
) AS [t0] ON [p].[product_id] = [t0].[ProductID]
WHERE [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [p].[store_id] AND [s].[status] = N'active')
ORDER BY [p].[product_id] DESC, [s0].[store_id], [p0].[ImageID], [c].[comment_id], [t0].[ProductID], [t0].[TagID]
2024-11-17 15:23:02.759 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:23:02.805 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetProducts (E-Commerce) in 117.6121ms
2024-11-17 15:23:02.808 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetProducts (E-Commerce)'
2024-11-17 15:23:02.811 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/Products - 200 null application/json; charset=utf-8 165.9618ms
2024-11-17 15:23:02.858 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-11-17 15:23:02.874 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-11-17 15:23:02.959 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id], [s].[store_id], [c].[cart_item_id], [c].[cart_id], [c].[product_id], [c].[quantity], [c].[StoreId], [c0].[comment_id], [c0].[comment], [c0].[date], [c0].[email], [c0].[name], [c0].[product_id], [c0].[rating], [c0].[status], [c1].[comment_id], [c1].[comment], [c1].[comment_date], [c1].[product_id], [c1].[rating], [c1].[user_id], [p0].[discount_id], [p0].[discount_percentage], [p0].[end_date], [p0].[product_id], [p0].[start_date], [p1].[ImageID], [p1].[ImagePath], [p1].[ProductID], [v].[variant_id], [v].[color_id], [v].[image], [v].[product_id], [v].[quantity], [v].[size_id], [v].[tag_id], [t].[ProductID], [t].[ColorID], [t].[ColorID0], [t].[ColorName], [t0].[ProductID], [t0].[SizeID], [t0].[SizeID0], [t0].[SizeName], [t1].[ProductID], [t1].[TagID], [t1].[tag_id], [t1].[tag_name], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Products] AS [p]
LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
LEFT JOIN [Cart_Item] AS [c] ON [p].[product_id] = [c].[product_id]
LEFT JOIN [Comment] AS [c0] ON [p].[product_id] = [c0].[product_id]
LEFT JOIN [Comments] AS [c1] ON [p].[product_id] = [c1].[product_id]
LEFT JOIN [ProductDiscounts] AS [p0] ON [p].[product_id] = [p0].[product_id]
LEFT JOIN [ProductImages] AS [p1] ON [p].[product_id] = [p1].[ProductID]
LEFT JOIN [Variant] AS [v] ON [p].[product_id] = [v].[product_id]
LEFT JOIN (
    SELECT [p2].[ProductID], [p2].[ColorID], [c2].[ColorID] AS [ColorID0], [c2].[ColorName]
    FROM [ProductColors] AS [p2]
    INNER JOIN [Colors] AS [c2] ON [p2].[ColorID] = [c2].[ColorID]
) AS [t] ON [p].[product_id] = [t].[ProductID]
LEFT JOIN (
    SELECT [p3].[ProductID], [p3].[SizeID], [s0].[SizeID] AS [SizeID0], [s0].[SizeName]
    FROM [ProductSize] AS [p3]
    INNER JOIN [Sizes] AS [s0] ON [p3].[SizeID] = [s0].[SizeID]
) AS [t0] ON [p].[product_id] = [t0].[ProductID]
LEFT JOIN (
    SELECT [p4].[ProductID], [p4].[TagID], [t2].[tag_id], [t2].[tag_name]
    FROM [ProductTags] AS [p4]
    INNER JOIN [Tags] AS [t2] ON [p4].[TagID] = [t2].[tag_id]
) AS [t1] ON [p].[product_id] = [t1].[ProductID]
WHERE [p].[Status] = 'pending' AND [p].[is_deleted] = CAST(0 AS bit)
ORDER BY [p].[product_id] DESC, [s].[store_id], [c].[cart_item_id], [c0].[comment_id], [c1].[comment_id], [p0].[discount_id], [p1].[ImageID], [v].[variant_id], [t].[ProductID], [t].[ColorID], [t].[ColorID0], [t0].[ProductID], [t0].[SizeID], [t0].[SizeID0], [t1].[ProductID], [t1].[TagID]
2024-11-17 15:23:02.965 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:23:02.966 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetPendingProducts (E-Commerce) in 266.4418ms
2024-11-17 15:23:02.968 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetPendingProducts (E-Commerce)'
2024-11-17 15:23:02.969 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/PendingProducts - 200 null application/json; charset=utf-8 326.6418ms
2024-11-17 15:23:02.975 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id], [s].[store_id], [c].[cart_item_id], [c].[cart_id], [c].[product_id], [c].[quantity], [c].[StoreId], [c0].[comment_id], [c0].[comment], [c0].[date], [c0].[email], [c0].[name], [c0].[product_id], [c0].[rating], [c0].[status], [c1].[comment_id], [c1].[comment], [c1].[comment_date], [c1].[product_id], [c1].[rating], [c1].[user_id], [p0].[discount_id], [p0].[discount_percentage], [p0].[end_date], [p0].[product_id], [p0].[start_date], [p1].[ImageID], [p1].[ImagePath], [p1].[ProductID], [v].[variant_id], [v].[color_id], [v].[image], [v].[product_id], [v].[quantity], [v].[size_id], [v].[tag_id], [t].[ProductID], [t].[ColorID], [t].[ColorID0], [t].[ColorName], [t0].[ProductID], [t0].[SizeID], [t0].[SizeID0], [t0].[SizeName], [t1].[ProductID], [t1].[TagID], [t1].[tag_id], [t1].[tag_name], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Products] AS [p]
LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
LEFT JOIN [Cart_Item] AS [c] ON [p].[product_id] = [c].[product_id]
LEFT JOIN [Comment] AS [c0] ON [p].[product_id] = [c0].[product_id]
LEFT JOIN [Comments] AS [c1] ON [p].[product_id] = [c1].[product_id]
LEFT JOIN [ProductDiscounts] AS [p0] ON [p].[product_id] = [p0].[product_id]
LEFT JOIN [ProductImages] AS [p1] ON [p].[product_id] = [p1].[ProductID]
LEFT JOIN [Variant] AS [v] ON [p].[product_id] = [v].[product_id]
LEFT JOIN (
    SELECT [p2].[ProductID], [p2].[ColorID], [c2].[ColorID] AS [ColorID0], [c2].[ColorName]
    FROM [ProductColors] AS [p2]
    INNER JOIN [Colors] AS [c2] ON [p2].[ColorID] = [c2].[ColorID]
) AS [t] ON [p].[product_id] = [t].[ProductID]
LEFT JOIN (
    SELECT [p3].[ProductID], [p3].[SizeID], [s0].[SizeID] AS [SizeID0], [s0].[SizeName]
    FROM [ProductSize] AS [p3]
    INNER JOIN [Sizes] AS [s0] ON [p3].[SizeID] = [s0].[SizeID]
) AS [t0] ON [p].[product_id] = [t0].[ProductID]
LEFT JOIN (
    SELECT [p4].[ProductID], [p4].[TagID], [t2].[tag_id], [t2].[tag_name]
    FROM [ProductTags] AS [p4]
    INNER JOIN [Tags] AS [t2] ON [p4].[TagID] = [t2].[tag_id]
) AS [t1] ON [p].[product_id] = [t1].[ProductID]
WHERE [p].[Status] = 'rejected' AND [p].[is_deleted] = CAST(0 AS bit)
ORDER BY [p].[product_id] DESC, [s].[store_id], [c].[cart_item_id], [c0].[comment_id], [c1].[comment_id], [p0].[discount_id], [p1].[ImageID], [v].[variant_id], [t].[ProductID], [t].[ColorID], [t].[ColorID0], [t0].[ProductID], [t0].[SizeID], [t0].[SizeID0], [t1].[ProductID], [t1].[TagID]
2024-11-17 15:23:02.983 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:23:02.989 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetRejectedProducts (E-Commerce) in 286.9934ms
2024-11-17 15:23:02.991 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetRejectedProducts (E-Commerce)'
2024-11-17 15:23:02.993 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/RejectedProducts - 200 null application/json; charset=utf-8 328.5381ms
2024-11-17 15:23:18.002 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/contactUs/getAllContact - null null
2024-11-17 15:23:18.003 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/contactUs/getContactByStatus - null null
2024-11-17 15:23:18.009 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:23:18.010 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:23:18.011 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.contactUsController.getAllContact (E-Commerce)'
2024-11-17 15:23:18.013 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.contactUsController.getContactByStatus (E-Commerce)'
2024-11-17 15:23:18.017 +03:00 [INF] Route matched with {action = "getAllContact", controller = "contactUs"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getAllContact() on controller E_Commerce.Controllers.contactUsController (E-Commerce).
2024-11-17 15:23:18.019 +03:00 [INF] Route matched with {action = "getContactByStatus", controller = "contactUs"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getContactByStatus() on controller E_Commerce.Controllers.contactUsController (E-Commerce).
2024-11-17 15:23:18.039 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[contact_id], [c].[admin_response], [c].[email], [c].[message], [c].[name], [c].[response_date], [c].[sent_date], [c].[status], [c].[sub]
FROM [Contact] AS [c]
WHERE [c].[status] = 0
2024-11-17 15:23:18.040 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[contact_id], [c].[admin_response], [c].[email], [c].[message], [c].[name], [c].[response_date], [c].[sent_date], [c].[status], [c].[sub]
FROM [Contact] AS [c]
ORDER BY [c].[contact_id] DESC
2024-11-17 15:23:18.075 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Contact, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:23:18.076 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Contact, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:23:18.082 +03:00 [INF] Executed action E_Commerce.Controllers.contactUsController.getContactByStatus (E-Commerce) in 59.0332ms
2024-11-17 15:23:18.082 +03:00 [INF] Executed action E_Commerce.Controllers.contactUsController.getAllContact (E-Commerce) in 61.3781ms
2024-11-17 15:23:18.085 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.contactUsController.getContactByStatus (E-Commerce)'
2024-11-17 15:23:18.087 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.contactUsController.getAllContact (E-Commerce)'
2024-11-17 15:23:18.089 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/contactUs/getContactByStatus - 200 null application/json; charset=utf-8 86.4526ms
2024-11-17 15:23:18.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/contactUs/getAllContact - 200 null application/json; charset=utf-8 88.7954ms
2024-11-17 15:23:33.995 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/contactUs/getFormById/67 - null null
2024-11-17 15:23:33.999 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:23:34.000 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.contactUsController.getFormById (E-Commerce)'
2024-11-17 15:23:34.002 +03:00 [INF] Route matched with {action = "getFormById", controller = "contactUs"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult getFormById(Int32) on controller E_Commerce.Controllers.contactUsController (E-Commerce).
2024-11-17 15:23:34.026 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[contact_id], [c].[admin_response], [c].[email], [c].[message], [c].[name], [c].[response_date], [c].[sent_date], [c].[status], [c].[sub]
FROM [Contact] AS [c]
WHERE [c].[contact_id] = @__id_0
2024-11-17 15:23:34.031 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.Models.Contact'.
2024-11-17 15:23:34.033 +03:00 [INF] Executed action E_Commerce.Controllers.contactUsController.getFormById (E-Commerce) in 29.2541ms
2024-11-17 15:23:34.036 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.contactUsController.getFormById (E-Commerce)'
2024-11-17 15:23:34.038 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/contactUs/getFormById/67 - 200 null application/json; charset=utf-8 43.9054ms
2024-11-17 15:25:21.477 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7000/api/Users/loginAdmin2 - multipart/form-data; boundary=----WebKitFormBoundaryXGEDl1LX5sQ1aHnD 265
2024-11-17 15:25:21.497 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:25:21.501 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.UsersController.Login (E-Commerce)'
2024-11-17 15:25:21.508 +03:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(E_Commerce.dto.LoginModel) on controller E_Commerce.Controllers.UsersController (E-Commerce).
2024-11-17 15:25:21.550 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__model_Email_0='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[admin_id], [a].[email], [a].[img], [a].[name], [a].[password], [a].[passwordHash], [a].[passwordSalt]
FROM [Admin] AS [a]
WHERE [a].[email] = @__model_Email_0
2024-11-17 15:25:21.558 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-11-17 15:25:21.566 +03:00 [INF] Executed action E_Commerce.Controllers.UsersController.Login (E-Commerce) in 46.3462ms
2024-11-17 15:25:21.571 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.UsersController.Login (E-Commerce)'
2024-11-17 15:25:21.570 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7000/api/StoreOwners/StoreOwnerLogin - multipart/form-data; boundary=----WebKitFormBoundaryhvNC2kanQnSiYp4c 265
2024-11-17 15:25:21.589 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7000/api/Users/loginAdmin2 - 401 null text/plain; charset=utf-8 111.8334ms
2024-11-17 15:25:21.594 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:25:21.612 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoreOwners.StoreOwnerLogin (E-Commerce)'
2024-11-17 15:25:21.619 +03:00 [INF] Route matched with {action = "StoreOwnerLogin", controller = "StoreOwners"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult StoreOwnerLogin(E_Commerce.dto.StoreOwnerLoginDTO) on controller E_Commerce.Controllers.StoreOwners (E-Commerce).
2024-11-17 15:25:21.642 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__model_Email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[owner_id], [s].[email], [s].[owner_name], [s].[password], [s].[passwordHash], [s].[passwordSalt], [s].[store_id], [s].[UserType]
FROM [StoreOwners] AS [s]
WHERE [s].[email] = @__model_Email_0
2024-11-17 15:25:21.694 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType19`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-17 15:25:21.704 +03:00 [INF] Executed action E_Commerce.Controllers.StoreOwners.StoreOwnerLogin (E-Commerce) in 74.9509ms
2024-11-17 15:25:21.710 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoreOwners.StoreOwnerLogin (E-Commerce)'
2024-11-17 15:25:21.717 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7000/api/StoreOwners/StoreOwnerLogin - 200 null application/json; charset=utf-8 146.5468ms
2024-11-17 15:25:22.921 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/30 - null null
2024-11-17 15:25:22.921 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/Products/30 - null null
2024-11-17 15:25:22.926 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:25:22.929 +03:00 [INF] CORS policy execution successful.
2024-11-17 15:25:22.930 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce)'
2024-11-17 15:25:22.931 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetProductsByStoreWithoutStatusCheck (E-Commerce)'
2024-11-17 15:25:22.932 +03:00 [INF] Route matched with {action = "GetStoreById", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetStoreById(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 15:25:22.933 +03:00 [INF] Route matched with {action = "GetProductsByStoreWithoutStatusCheck", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProductsByStoreWithoutStatusCheck(Int32) on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 15:25:22.944 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[store_id] = @__p_0
2024-11-17 15:25:22.944 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__storeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[store_id] = @__storeId_0
2024-11-17 15:25:22.949 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.Models.Store'.
2024-11-17 15:25:22.961 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce) in 25.8875ms
2024-11-17 15:25:22.963 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetStoreById (E-Commerce)'
2024-11-17 15:25:22.965 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/30 - 200 null application/json; charset=utf-8 44.4578ms
2024-11-17 15:25:22.970 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__storeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[store_id] = @__storeId_0 AND [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit)
ORDER BY [p].[product_id] DESC
2024-11-17 15:25:22.975 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 15:25:22.980 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetProductsByStoreWithoutStatusCheck (E-Commerce) in 41.2177ms
2024-11-17 15:25:22.981 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetProductsByStoreWithoutStatusCheck (E-Commerce)'
2024-11-17 15:25:22.983 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/Products/30 - 200 null application/json; charset=utf-8 62.5859ms
2024-11-17 18:05:35.121 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:05:35.130 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:05:35.131 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:05:35.133 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:05:35.144 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:05:35.160 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 23.7918ms
2024-11-17 18:05:35.161 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:05:35.162 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 40.9092ms
2024-11-17 18:05:37.366 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:05:37.373 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:05:37.376 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:05:37.377 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:05:37.379 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:05:37.380 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 1.787ms
2024-11-17 18:05:37.382 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:05:37.382 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 16.723ms
2024-11-17 18:05:38.165 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:05:38.171 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:05:38.174 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:05:38.176 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:05:38.177 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:05:38.178 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 1.2508ms
2024-11-17 18:05:38.179 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:05:38.180 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 14.1833ms
2024-11-17 18:05:38.314 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:05:38.317 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:05:38.319 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:05:38.320 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:05:38.321 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:05:38.322 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 1.1003ms
2024-11-17 18:05:38.323 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:05:38.323 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 8.9462ms
2024-11-17 18:05:38.549 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:05:38.550 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:05:38.550 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:05:38.551 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:05:38.553 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:05:38.553 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 1.0214ms
2024-11-17 18:05:38.554 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:05:38.554 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 5.8381ms
2024-11-17 18:06:02.439 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - null null
2024-11-17 18:06:02.440 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - null null
2024-11-17 18:06:02.456 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:06:02.446 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - null null
2024-11-17 18:06:02.452 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - null null
2024-11-17 18:06:02.457 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:06:02.461 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:06:02.461 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 18:06:02.462 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:06:02.464 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:06:02.465 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:06:02.465 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 18:06:02.465 +03:00 [INF] Route matched with {action = "GetLast8Products", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetLast8Products() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:06:02.466 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 18:06:02.467 +03:00 [INF] Route matched with {action = "GetTopSellingProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopSellingProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:06:02.468 +03:00 [INF] Route matched with {action = "GetTopStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopStores(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 18:06:02.466 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 18:06:02.466 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:06:02.481 +03:00 [INF] Route matched with {action = "GetTopReviewedProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopReviewedProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:06:02.481 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:06:02.484 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:06:02.485 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 1.4648ms
2024-11-17 18:06:02.486 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:06:02.487 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 30.1973ms
2024-11-17 18:06:02.501 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [o].[product_id], COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) AS [c]
    FROM [OrderItems] AS [o]
    GROUP BY [o].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [OrderItems] AS [o0]
        LEFT JOIN [Products] AS [p] ON [o0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([o].[product_id] = [o0].[product_id] OR ([o].[product_id] IS NULL AND [o0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [o1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [o1].[product_id] ORDER BY [o1].[Order_Item_id], [p0].[product_id]) AS [row]
        FROM [OrderItems] AS [o1]
        LEFT JOIN [Products] AS [p0] ON [o1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 18:06:02.501 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [p].[store_id] AND [s].[status] = N'active')
ORDER BY [p].[created_at] DESC
2024-11-17 18:06:02.501 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t].[c0], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [c].[product_id], COUNT(*) AS [c], AVG(CAST(COALESCE([c].[rating], 0) AS float)) AS [c0]
    FROM [Comment] AS [c]
    GROUP BY [c].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [Comment] AS [c0]
        LEFT JOIN [Products] AS [p] ON [c0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([c].[product_id] = [c0].[product_id] OR ([c].[product_id] IS NULL AND [c0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [c1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [c1].[product_id] ORDER BY [c1].[comment_id], [p0].[product_id]) AS [row]
        FROM [Comment] AS [c1]
        LEFT JOIN [Products] AS [p0] ON [c1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 18:06:02.503 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:06:02.505 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:06:02.505 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[store_id], [t].[address], [t].[amount], [t].[background_image], [t].[city], [t].[country], [t].[created_at], [t].[end_date], [t].[phone_number], [t].[plan_name], [t].[plan_type], [t].[start_date], [t].[status], [t].[store_description], [t].[store_logo], [t].[store_name], [t].[zip_code], [o0].[order_id], [o0].[amount], [o0].[copon_id], [o0].[Date], [o0].[payment_method_id], [o0].[status], [o0].[store_id], [o0].[transaction_id], [o0].[user_id]
FROM (
    SELECT TOP(@__p_0) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code], (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) AS [c]
    FROM [Stores] AS [s]
    WHERE [s].[status] = N'active'
    ORDER BY (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) DESC
) AS [t]
LEFT JOIN [Orders] AS [o0] ON [t].[store_id] = [o0].[store_id]
ORDER BY [t].[c] DESC, [t].[store_id]
2024-11-17 18:06:02.507 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce) in 28.1211ms
2024-11-17 18:06:02.522 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 18:06:02.512 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce) in 44.279ms
2024-11-17 18:06:02.518 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:06:02.506 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:06:02.523 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - 200 null application/json; charset=utf-8 83.136ms
2024-11-17 18:06:02.524 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 18:06:02.525 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce) in 45.0192ms
2024-11-17 18:06:02.526 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce) in 43.5186ms
2024-11-17 18:06:02.528 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - 200 null application/json; charset=utf-8 89.3836ms
2024-11-17 18:06:02.529 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 18:06:02.530 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 18:06:02.532 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - 200 null application/json; charset=utf-8 86.2851ms
2024-11-17 18:06:02.533 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - 200 null application/json; charset=utf-8 80.5936ms
2024-11-17 18:06:06.310 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:06:06.310 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/active - null null
2024-11-17 18:06:06.317 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:06:06.320 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:06:06.320 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetActiveStores (E-Commerce)'
2024-11-17 18:06:06.321 +03:00 [INF] Route matched with {action = "GetActiveStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetActiveStores() on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 18:06:06.320 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:06:06.323 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:06:06.325 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:06:06.325 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[end_date] < GETDATE() AND [s].[status] = N'active'
2024-11-17 18:06:06.326 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 2.1117ms
2024-11-17 18:06:06.329 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:06:06.330 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 19.5268ms
2024-11-17 18:06:06.333 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[status] = N'active'
2024-11-17 18:06:06.334 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:06:06.336 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetActiveStores (E-Commerce) in 14.8158ms
2024-11-17 18:06:06.337 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetActiveStores (E-Commerce)'
2024-11-17 18:06:06.338 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/active - 200 null application/json; charset=utf-8 27.7126ms
2024-11-17 18:07:19.601 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - null null
2024-11-17 18:07:19.601 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - null null
2024-11-17 18:07:19.620 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:07:19.613 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - null null
2024-11-17 18:07:19.614 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - null null
2024-11-17 18:07:19.620 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:07:19.631 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:07:19.632 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 18:07:19.637 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:07:19.638 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:07:19.640 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:07:19.640 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 18:07:19.641 +03:00 [INF] Route matched with {action = "GetTopStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopStores(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 18:07:19.642 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 18:07:19.642 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 18:07:19.644 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:07:19.645 +03:00 [INF] Route matched with {action = "GetLast8Products", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetLast8Products() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:07:19.648 +03:00 [INF] Route matched with {action = "GetTopSellingProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopSellingProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:07:19.648 +03:00 [INF] Route matched with {action = "GetTopReviewedProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopReviewedProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:07:19.653 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:07:19.658 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:07:19.660 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 2.7137ms
2024-11-17 18:07:19.664 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:07:19.667 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 47.3482ms
2024-11-17 18:07:19.668 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [o].[product_id], COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) AS [c]
    FROM [OrderItems] AS [o]
    GROUP BY [o].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [OrderItems] AS [o0]
        LEFT JOIN [Products] AS [p] ON [o0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([o].[product_id] = [o0].[product_id] OR ([o].[product_id] IS NULL AND [o0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [o1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [o1].[product_id] ORDER BY [o1].[Order_Item_id], [p0].[product_id]) AS [row]
        FROM [OrderItems] AS [o1]
        LEFT JOIN [Products] AS [p0] ON [o1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 18:07:19.671 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:07:19.672 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [p].[store_id] AND [s].[status] = N'active')
ORDER BY [p].[created_at] DESC
2024-11-17 18:07:19.672 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t].[c0], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [c].[product_id], COUNT(*) AS [c], AVG(CAST(COALESCE([c].[rating], 0) AS float)) AS [c0]
    FROM [Comment] AS [c]
    GROUP BY [c].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [Comment] AS [c0]
        LEFT JOIN [Products] AS [p] ON [c0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([c].[product_id] = [c0].[product_id] OR ([c].[product_id] IS NULL AND [c0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [c1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [c1].[product_id] ORDER BY [c1].[comment_id], [p0].[product_id]) AS [row]
        FROM [Comment] AS [c1]
        LEFT JOIN [Products] AS [p0] ON [c1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 18:07:19.672 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce) in 17.1229ms
2024-11-17 18:07:19.674 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[store_id], [t].[address], [t].[amount], [t].[background_image], [t].[city], [t].[country], [t].[created_at], [t].[end_date], [t].[phone_number], [t].[plan_name], [t].[plan_type], [t].[start_date], [t].[status], [t].[store_description], [t].[store_logo], [t].[store_name], [t].[zip_code], [o0].[order_id], [o0].[amount], [o0].[copon_id], [o0].[Date], [o0].[payment_method_id], [o0].[status], [o0].[store_id], [o0].[transaction_id], [o0].[user_id]
FROM (
    SELECT TOP(@__p_0) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code], (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) AS [c]
    FROM [Stores] AS [s]
    WHERE [s].[status] = N'active'
    ORDER BY (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) DESC
) AS [t]
LEFT JOIN [Orders] AS [o0] ON [t].[store_id] = [o0].[store_id]
ORDER BY [t].[c] DESC, [t].[store_id]
2024-11-17 18:07:19.674 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:07:19.675 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:07:19.677 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:07:19.676 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 18:07:19.678 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce) in 24.1549ms
2024-11-17 18:07:19.679 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce) in 23.1784ms
2024-11-17 18:07:19.680 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce) in 33.1448ms
2024-11-17 18:07:19.681 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - 200 null application/json; charset=utf-8 67.7338ms
2024-11-17 18:07:19.684 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 18:07:19.685 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 18:07:19.689 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - 200 null application/json; charset=utf-8 75.5256ms
2024-11-17 18:07:19.687 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - 200 null application/json; charset=utf-8 86.3418ms
2024-11-17 18:07:19.686 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 18:07:19.693 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - 200 null application/json; charset=utf-8 92.0451ms
2024-11-17 18:07:46.399 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - null null
2024-11-17 18:07:46.399 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - null null
2024-11-17 18:07:46.411 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:07:46.404 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - null null
2024-11-17 18:07:46.413 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - null null
2024-11-17 18:07:46.416 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:07:46.423 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:07:46.426 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 18:07:46.428 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:07:46.430 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:07:46.431 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:07:46.431 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 18:07:46.431 +03:00 [INF] Route matched with {action = "GetLast8Products", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetLast8Products() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:07:46.432 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 18:07:46.436 +03:00 [INF] Route matched with {action = "GetTopSellingProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopSellingProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:07:46.432 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:07:46.438 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:07:46.432 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 18:07:46.433 +03:00 [INF] Route matched with {action = "GetTopStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopStores(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 18:07:46.439 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [p].[store_id] AND [s].[status] = N'active')
ORDER BY [p].[created_at] DESC
2024-11-17 18:07:46.441 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [o].[product_id], COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) AS [c]
    FROM [OrderItems] AS [o]
    GROUP BY [o].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [OrderItems] AS [o0]
        LEFT JOIN [Products] AS [p] ON [o0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([o].[product_id] = [o0].[product_id] OR ([o].[product_id] IS NULL AND [o0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [o1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [o1].[product_id] ORDER BY [o1].[Order_Item_id], [p0].[product_id]) AS [row]
        FROM [OrderItems] AS [o1]
        LEFT JOIN [Products] AS [p0] ON [o1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 18:07:46.440 +03:00 [INF] Route matched with {action = "GetTopReviewedProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopReviewedProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:07:46.440 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:07:46.443 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:07:46.444 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[store_id], [t].[address], [t].[amount], [t].[background_image], [t].[city], [t].[country], [t].[created_at], [t].[end_date], [t].[phone_number], [t].[plan_name], [t].[plan_type], [t].[start_date], [t].[status], [t].[store_description], [t].[store_logo], [t].[store_name], [t].[zip_code], [o0].[order_id], [o0].[amount], [o0].[copon_id], [o0].[Date], [o0].[payment_method_id], [o0].[status], [o0].[store_id], [o0].[transaction_id], [o0].[user_id]
FROM (
    SELECT TOP(@__p_0) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code], (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) AS [c]
    FROM [Stores] AS [s]
    WHERE [s].[status] = N'active'
    ORDER BY (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) DESC
) AS [t]
LEFT JOIN [Orders] AS [o0] ON [t].[store_id] = [o0].[store_id]
ORDER BY [t].[c] DESC, [t].[store_id]
2024-11-17 18:07:46.445 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:07:46.454 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t].[c0], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [c].[product_id], COUNT(*) AS [c], AVG(CAST(COALESCE([c].[rating], 0) AS float)) AS [c0]
    FROM [Comment] AS [c]
    GROUP BY [c].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [Comment] AS [c0]
        LEFT JOIN [Products] AS [p] ON [c0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([c].[product_id] = [c0].[product_id] OR ([c].[product_id] IS NULL AND [c0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [c1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [c1].[product_id] ORDER BY [c1].[comment_id], [p0].[product_id]) AS [row]
        FROM [Comment] AS [c1]
        LEFT JOIN [Products] AS [p0] ON [c1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 18:07:46.447 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 7.3506ms
2024-11-17 18:07:46.462 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:07:46.460 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:07:46.460 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce) in 22.0429ms
2024-11-17 18:07:46.462 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:07:46.454 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce) in 18.3326ms
2024-11-17 18:07:46.463 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 47.4674ms
2024-11-17 18:07:46.464 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce) in 22.4888ms
2024-11-17 18:07:46.464 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 18:07:46.465 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce) in 19.3163ms
2024-11-17 18:07:46.466 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 18:07:46.467 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 18:07:46.468 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - 200 null application/json; charset=utf-8 63.6438ms
2024-11-17 18:07:46.468 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 18:07:46.472 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - 200 null application/json; charset=utf-8 58.1751ms
2024-11-17 18:07:46.469 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - 200 null application/json; charset=utf-8 70.1289ms
2024-11-17 18:07:46.469 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - 200 null application/json; charset=utf-8 69.9943ms
2024-11-17 18:07:56.888 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:07:56.892 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:07:56.895 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:07:56.898 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:07:56.900 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:07:56.902 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 3.1416ms
2024-11-17 18:07:56.904 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:07:56.905 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 17.301ms
2024-11-17 18:08:09.362 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:08:09.365 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:08:09.367 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:08:09.372 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:08:09.374 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:08:09.375 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 1.9636ms
2024-11-17 18:08:09.376 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:08:09.377 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 15.1838ms
2024-11-17 18:08:15.404 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:08:15.410 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:08:15.413 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:08:15.414 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:08:15.420 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:08:15.421 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 1.6246ms
2024-11-17 18:08:15.422 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:08:15.422 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 17.9509ms
2024-11-17 18:08:24.426 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/Products - null null
2024-11-17 18:08:24.427 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:08:24.430 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Categories/CategoriesWithSubcategories - null null
2024-11-17 18:08:24.429 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:08:24.433 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:08:24.436 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:08:24.437 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetProducts (E-Commerce)'
2024-11-17 18:08:24.437 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:08:24.438 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.GetCategoriesWithSubcategories (E-Commerce)'
2024-11-17 18:08:24.438 +03:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:08:24.438 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:08:24.439 +03:00 [INF] Route matched with {action = "GetCategoriesWithSubcategories", controller = "Categories"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCategoriesWithSubcategories() on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2024-11-17 18:08:24.441 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:08:24.442 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 1.5547ms
2024-11-17 18:08:24.444 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:08:24.445 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 17.8452ms
2024-11-17 18:08:24.451 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[category_id], [c].[name], [c].[image], [c].[description], [s].[subcategory_id], [s].[subcategory_name]
FROM [Categories] AS [c]
LEFT JOIN [SubCategories] AS [s] ON [c].[category_id] = [s].[category_id]
ORDER BY [c].[category_id]
2024-11-17 18:08:24.452 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType6`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType7`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:08:24.453 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.GetCategoriesWithSubcategories (E-Commerce) in 12.0181ms
2024-11-17 18:08:24.454 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.GetCategoriesWithSubcategories (E-Commerce)'
2024-11-17 18:08:24.454 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Categories/CategoriesWithSubcategories - 200 null application/json; charset=utf-8 24.5034ms
2024-11-17 18:08:24.455 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id], [s0].[store_id], [p0].[ImageID], [p0].[ImagePath], [p0].[ProductID], [c].[comment_id], [c].[comment], [c].[date], [c].[email], [c].[name], [c].[product_id], [c].[rating], [c].[status], [t0].[ProductID], [t0].[TagID], [t0].[tag_id], [t0].[tag_name], [s0].[address], [s0].[amount], [s0].[background_image], [s0].[city], [s0].[country], [s0].[created_at], [s0].[end_date], [s0].[phone_number], [s0].[plan_name], [s0].[plan_type], [s0].[start_date], [s0].[status], [s0].[store_description], [s0].[store_logo], [s0].[store_name], [s0].[zip_code]
FROM [Products] AS [p]
LEFT JOIN [Stores] AS [s0] ON [p].[store_id] = [s0].[store_id]
LEFT JOIN [ProductImages] AS [p0] ON [p].[product_id] = [p0].[ProductID]
LEFT JOIN [Comment] AS [c] ON [p].[product_id] = [c].[product_id]
LEFT JOIN (
    SELECT [p1].[ProductID], [p1].[TagID], [t].[tag_id], [t].[tag_name]
    FROM [ProductTags] AS [p1]
    INNER JOIN [Tags] AS [t] ON [p1].[TagID] = [t].[tag_id]
) AS [t0] ON [p].[product_id] = [t0].[ProductID]
WHERE [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [p].[store_id] AND [s].[status] = N'active')
ORDER BY [p].[product_id] DESC, [s0].[store_id], [p0].[ImageID], [c].[comment_id], [t0].[ProductID], [t0].[TagID]
2024-11-17 18:08:24.463 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:08:24.473 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetProducts (E-Commerce) in 33.9116ms
2024-11-17 18:08:24.474 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetProducts (E-Commerce)'
2024-11-17 18:08:24.475 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/Products - 200 null application/json; charset=utf-8 48.5504ms
2024-11-17 18:08:30.007 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:08:30.009 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:08:30.013 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:08:30.017 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:08:30.021 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:08:30.022 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 1.5606ms
2024-11-17 18:08:30.026 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:08:30.027 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 21.0995ms
2024-11-17 18:08:38.683 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:08:38.693 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:08:38.694 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:08:38.695 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:08:38.697 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:08:38.698 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 1.1542ms
2024-11-17 18:08:38.698 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:08:38.699 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 16.0754ms
2024-11-17 18:08:48.420 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Users/GetUserById/0 - null null
2024-11-17 18:08:48.420 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Orders/GetOrdersByUser/0 - null null
2024-11-17 18:08:48.421 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:08:48.423 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:08:48.426 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:08:48.431 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:08:48.432 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.UsersController.GetUserById (E-Commerce)'
2024-11-17 18:08:48.432 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrdersController.GetOrdersByUserId (E-Commerce)'
2024-11-17 18:08:48.432 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:08:48.435 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:08:48.435 +03:00 [INF] Route matched with {action = "GetOrdersByUserId", controller = "Orders"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetOrdersByUserId(Int32) on controller E_Commerce.Controllers.OrdersController (E-Commerce).
2024-11-17 18:08:48.435 +03:00 [INF] Route matched with {action = "GetUserById", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUserById(Int32) on controller E_Commerce.Controllers.UsersController (E-Commerce).
2024-11-17 18:08:48.437 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:08:48.439 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 2.837ms
2024-11-17 18:08:48.441 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:08:48.443 +03:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-17 18:08:48.444 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 23.8982ms
2024-11-17 18:08:48.446 +03:00 [INF] Executed action E_Commerce.Controllers.UsersController.GetUserById (E-Commerce) in 7.8742ms
2024-11-17 18:08:48.448 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.UsersController.GetUserById (E-Commerce)'
2024-11-17 18:08:48.449 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Users/GetUserById/0 - 400 null application/json; charset=utf-8 28.4488ms
2024-11-17 18:08:48.483 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[order_id], [o].[Date], CASE
    WHEN [u].[user_id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [u].[name], COALESCE([o].[store_id], 0), COALESCE((
    SELECT TOP(1) [s].[store_name]
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [o].[store_id]), 'Unknown Store'), (
    SELECT COALESCE(SUM(COALESCE([o0].[quantity], 0)), 0)
    FROM [OrderItems] AS [o0]
    WHERE [o].[order_id] = [o0].[order_id]), (
    SELECT COALESCE(SUM(CAST(COALESCE([o1].[quantity], 0) AS decimal(10,2)) * COALESCE([p].[price], 0.0)), 0.0)
    FROM [OrderItems] AS [o1]
    LEFT JOIN [Products] AS [p] ON [o1].[product_id] = [p].[product_id]
    WHERE [o].[order_id] = [o1].[order_id]), [o].[status], [u].[user_id], [t].[ProductId], [t].[ProductName], [t].[Quantity], [t].[Price], [t].[Order_Item_id]
FROM [Orders] AS [o]
LEFT JOIN [Users] AS [u] ON [o].[user_id] = [u].[user_id]
LEFT JOIN (
    SELECT [p0].[product_id] AS [ProductId], [p0].[name] AS [ProductName], [o2].[quantity] AS [Quantity], [p0].[price] AS [Price], [o2].[Order_Item_id], [o2].[order_id]
    FROM [OrderItems] AS [o2]
    LEFT JOIN [Products] AS [p0] ON [o2].[product_id] = [p0].[product_id]
) AS [t] ON [o].[order_id] = [t].[order_id]
WHERE [o].[user_id] = @__userId_0
ORDER BY [o].[order_id], [u].[user_id], [t].[Order_Item_id]
2024-11-17 18:08:48.486 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-17 18:08:48.488 +03:00 [INF] Executed action E_Commerce.Controllers.OrdersController.GetOrdersByUserId (E-Commerce) in 50.4501ms
2024-11-17 18:08:48.489 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrdersController.GetOrdersByUserId (E-Commerce)'
2024-11-17 18:08:48.489 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Orders/GetOrdersByUser/0 - 404 null application/json; charset=utf-8 69.2376ms
2024-11-17 18:09:05.972 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - null null
2024-11-17 18:09:05.974 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - null null
2024-11-17 18:09:05.974 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - null null
2024-11-17 18:09:05.975 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:09:05.974 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - null null
2024-11-17 18:09:05.983 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:09:05.986 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:09:05.987 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:09:05.988 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:09:05.989 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:09:05.989 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 18:09:05.989 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 18:09:05.989 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 18:09:05.990 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:09:05.992 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:09:05.991 +03:00 [INF] Route matched with {action = "GetLast8Products", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetLast8Products() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:09:05.991 +03:00 [INF] Route matched with {action = "GetTopReviewedProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopReviewedProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:09:05.991 +03:00 [INF] Route matched with {action = "GetTopStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopStores(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 18:09:05.993 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:09:05.990 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 18:09:05.997 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 4.4659ms
2024-11-17 18:09:05.998 +03:00 [INF] Route matched with {action = "GetTopSellingProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopSellingProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:09:06.005 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [p].[store_id] AND [s].[status] = N'active')
ORDER BY [p].[created_at] DESC
2024-11-17 18:09:06.005 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t].[c0], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [c].[product_id], COUNT(*) AS [c], AVG(CAST(COALESCE([c].[rating], 0) AS float)) AS [c0]
    FROM [Comment] AS [c]
    GROUP BY [c].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [Comment] AS [c0]
        LEFT JOIN [Products] AS [p] ON [c0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([c].[product_id] = [c0].[product_id] OR ([c].[product_id] IS NULL AND [c0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [c1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [c1].[product_id] ORDER BY [c1].[comment_id], [p0].[product_id]) AS [row]
        FROM [Comment] AS [c1]
        LEFT JOIN [Products] AS [p0] ON [c1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 18:09:06.005 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:09:06.007 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[store_id], [t].[address], [t].[amount], [t].[background_image], [t].[city], [t].[country], [t].[created_at], [t].[end_date], [t].[phone_number], [t].[plan_name], [t].[plan_type], [t].[start_date], [t].[status], [t].[store_description], [t].[store_logo], [t].[store_name], [t].[zip_code], [o0].[order_id], [o0].[amount], [o0].[copon_id], [o0].[Date], [o0].[payment_method_id], [o0].[status], [o0].[store_id], [o0].[transaction_id], [o0].[user_id]
FROM (
    SELECT TOP(@__p_0) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code], (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) AS [c]
    FROM [Stores] AS [s]
    WHERE [s].[status] = N'active'
    ORDER BY (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) DESC
) AS [t]
LEFT JOIN [Orders] AS [o0] ON [t].[store_id] = [o0].[store_id]
ORDER BY [t].[c] DESC, [t].[store_id]
2024-11-17 18:09:06.008 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:09:06.009 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:09:06.014 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce) in 20.5277ms
2024-11-17 18:09:06.015 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce) in 19.9703ms
2024-11-17 18:09:06.021 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 18:09:06.009 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 34.6803ms
2024-11-17 18:09:06.010 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [o].[product_id], COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) AS [c]
    FROM [OrderItems] AS [o]
    GROUP BY [o].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [OrderItems] AS [o0]
        LEFT JOIN [Products] AS [p] ON [o0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([o].[product_id] = [o0].[product_id] OR ([o].[product_id] IS NULL AND [o0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [o1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [o1].[product_id] ORDER BY [o1].[Order_Item_id], [p0].[product_id]) AS [row]
        FROM [OrderItems] AS [o1]
        LEFT JOIN [Products] AS [p0] ON [o1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 18:09:06.020 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 18:09:06.011 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:09:06.021 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - 200 null application/json; charset=utf-8 47.357ms
2024-11-17 18:09:06.024 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:09:06.024 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - 200 null application/json; charset=utf-8 51.9993ms
2024-11-17 18:09:06.025 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce) in 28.3683ms
2024-11-17 18:09:06.027 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce) in 20.4217ms
2024-11-17 18:09:06.030 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 18:09:06.030 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 18:09:06.031 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - 200 null application/json; charset=utf-8 57.2856ms
2024-11-17 18:09:06.031 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - 200 null application/json; charset=utf-8 57.2104ms
2024-11-17 18:10:51.764 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - null null
2024-11-17 18:10:51.764 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - null null
2024-11-17 18:10:51.783 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:10:51.769 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - null null
2024-11-17 18:10:51.777 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - null null
2024-11-17 18:10:51.785 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:10:51.789 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:10:51.790 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 18:10:51.793 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:10:51.798 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:10:51.799 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:10:51.799 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 18:10:51.802 +03:00 [INF] Route matched with {action = "GetLast8Products", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetLast8Products() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:10:51.802 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 18:10:51.803 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 18:10:51.806 +03:00 [INF] Route matched with {action = "GetTopSellingProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopSellingProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:10:51.804 +03:00 [INF] Route matched with {action = "GetTopStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopStores(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 18:10:51.810 +03:00 [INF] Route matched with {action = "GetTopReviewedProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopReviewedProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:10:51.803 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:10:51.815 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:10:51.817 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:10:51.818 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 1.3845ms
2024-11-17 18:10:51.818 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:10:51.819 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 33.9829ms
2024-11-17 18:10:51.828 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [o].[product_id], COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) AS [c]
    FROM [OrderItems] AS [o]
    GROUP BY [o].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [OrderItems] AS [o0]
        LEFT JOIN [Products] AS [p] ON [o0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([o].[product_id] = [o0].[product_id] OR ([o].[product_id] IS NULL AND [o0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [o1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [o1].[product_id] ORDER BY [o1].[Order_Item_id], [p0].[product_id]) AS [row]
        FROM [OrderItems] AS [o1]
        LEFT JOIN [Products] AS [p0] ON [o1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 18:10:51.830 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:10:51.831 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce) in 18.6484ms
2024-11-17 18:10:51.832 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t].[c0], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [c].[product_id], COUNT(*) AS [c], AVG(CAST(COALESCE([c].[rating], 0) AS float)) AS [c0]
    FROM [Comment] AS [c]
    GROUP BY [c].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [Comment] AS [c0]
        LEFT JOIN [Products] AS [p] ON [c0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([c].[product_id] = [c0].[product_id] OR ([c].[product_id] IS NULL AND [c0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [c1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [c1].[product_id] ORDER BY [c1].[comment_id], [p0].[product_id]) AS [row]
        FROM [Comment] AS [c1]
        LEFT JOIN [Products] AS [p0] ON [c1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 18:10:51.832 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [p].[store_id] AND [s].[status] = N'active')
ORDER BY [p].[created_at] DESC
2024-11-17 18:10:51.832 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 18:10:51.834 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:10:51.834 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[store_id], [t].[address], [t].[amount], [t].[background_image], [t].[city], [t].[country], [t].[created_at], [t].[end_date], [t].[phone_number], [t].[plan_name], [t].[plan_type], [t].[start_date], [t].[status], [t].[store_description], [t].[store_logo], [t].[store_name], [t].[zip_code], [o0].[order_id], [o0].[amount], [o0].[copon_id], [o0].[Date], [o0].[payment_method_id], [o0].[status], [o0].[store_id], [o0].[transaction_id], [o0].[user_id]
FROM (
    SELECT TOP(@__p_0) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code], (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) AS [c]
    FROM [Stores] AS [s]
    WHERE [s].[status] = N'active'
    ORDER BY (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) DESC
) AS [t]
LEFT JOIN [Orders] AS [o0] ON [t].[store_id] = [o0].[store_id]
ORDER BY [t].[c] DESC, [t].[store_id]
2024-11-17 18:10:51.835 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:10:51.836 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - 200 null application/json; charset=utf-8 66.2703ms
2024-11-17 18:10:51.838 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:10:51.837 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce) in 21.6635ms
2024-11-17 18:10:51.847 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 18:10:51.847 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - 200 null application/json; charset=utf-8 70.7016ms
2024-11-17 18:10:51.839 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce) in 33.2992ms
2024-11-17 18:10:51.846 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce) in 32.2892ms
2024-11-17 18:10:51.849 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 18:10:51.850 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - 200 null application/json; charset=utf-8 85.907ms
2024-11-17 18:10:51.849 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 18:10:51.855 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - 200 null application/json; charset=utf-8 91.0731ms
2024-11-17 18:10:54.118 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/Products - null null
2024-11-17 18:10:54.118 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:10:54.121 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Categories/CategoriesWithSubcategories - null null
2024-11-17 18:10:54.124 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:10:54.128 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:10:54.132 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:10:54.133 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetProducts (E-Commerce)'
2024-11-17 18:10:54.133 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:10:54.134 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.GetCategoriesWithSubcategories (E-Commerce)'
2024-11-17 18:10:54.135 +03:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:10:54.135 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:10:54.136 +03:00 [INF] Route matched with {action = "GetCategoriesWithSubcategories", controller = "Categories"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCategoriesWithSubcategories() on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2024-11-17 18:10:54.139 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:10:54.140 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 1.6623ms
2024-11-17 18:10:54.141 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:10:54.142 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 23.3233ms
2024-11-17 18:10:54.144 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id], [s0].[store_id], [p0].[ImageID], [p0].[ImagePath], [p0].[ProductID], [c].[comment_id], [c].[comment], [c].[date], [c].[email], [c].[name], [c].[product_id], [c].[rating], [c].[status], [t0].[ProductID], [t0].[TagID], [t0].[tag_id], [t0].[tag_name], [s0].[address], [s0].[amount], [s0].[background_image], [s0].[city], [s0].[country], [s0].[created_at], [s0].[end_date], [s0].[phone_number], [s0].[plan_name], [s0].[plan_type], [s0].[start_date], [s0].[status], [s0].[store_description], [s0].[store_logo], [s0].[store_name], [s0].[zip_code]
FROM [Products] AS [p]
LEFT JOIN [Stores] AS [s0] ON [p].[store_id] = [s0].[store_id]
LEFT JOIN [ProductImages] AS [p0] ON [p].[product_id] = [p0].[ProductID]
LEFT JOIN [Comment] AS [c] ON [p].[product_id] = [c].[product_id]
LEFT JOIN (
    SELECT [p1].[ProductID], [p1].[TagID], [t].[tag_id], [t].[tag_name]
    FROM [ProductTags] AS [p1]
    INNER JOIN [Tags] AS [t] ON [p1].[TagID] = [t].[tag_id]
) AS [t0] ON [p].[product_id] = [t0].[ProductID]
WHERE [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [p].[store_id] AND [s].[status] = N'active')
ORDER BY [p].[product_id] DESC, [s0].[store_id], [p0].[ImageID], [c].[comment_id], [t0].[ProductID], [t0].[TagID]
2024-11-17 18:10:54.146 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[category_id], [c].[name], [c].[image], [c].[description], [s].[subcategory_id], [s].[subcategory_name]
FROM [Categories] AS [c]
LEFT JOIN [SubCategories] AS [s] ON [c].[category_id] = [s].[category_id]
ORDER BY [c].[category_id]
2024-11-17 18:10:54.147 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType6`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType7`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:10:54.148 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.GetCategoriesWithSubcategories (E-Commerce) in 8.9151ms
2024-11-17 18:10:54.150 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.GetCategoriesWithSubcategories (E-Commerce)'
2024-11-17 18:10:54.150 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:10:54.150 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Categories/CategoriesWithSubcategories - 200 null application/json; charset=utf-8 29.3331ms
2024-11-17 18:10:54.159 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetProducts (E-Commerce) in 21.9276ms
2024-11-17 18:10:54.159 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetProducts (E-Commerce)'
2024-11-17 18:10:54.160 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/Products - 200 null application/json; charset=utf-8 42.3431ms
2024-11-17 18:10:56.527 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - null null
2024-11-17 18:10:56.527 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:10:56.527 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - null null
2024-11-17 18:10:56.527 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - null null
2024-11-17 18:10:56.528 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - null null
2024-11-17 18:10:56.531 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:10:56.535 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:10:56.536 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:10:56.537 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:10:56.538 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:10:56.538 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 18:10:56.539 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:10:56.539 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 18:10:56.539 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 18:10:56.540 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 18:10:56.541 +03:00 [INF] Route matched with {action = "GetLast8Products", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetLast8Products() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:10:56.542 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:10:56.542 +03:00 [INF] Route matched with {action = "GetTopReviewedProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopReviewedProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:10:56.544 +03:00 [INF] Route matched with {action = "GetTopSellingProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopSellingProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:10:56.543 +03:00 [INF] Route matched with {action = "GetTopStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopStores(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 18:10:56.546 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:10:56.546 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [p].[store_id] AND [s].[status] = N'active')
ORDER BY [p].[created_at] DESC
2024-11-17 18:10:56.549 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 3.1953ms
2024-11-17 18:10:56.549 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [o].[product_id], COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) AS [c]
    FROM [OrderItems] AS [o]
    GROUP BY [o].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [OrderItems] AS [o0]
        LEFT JOIN [Products] AS [p] ON [o0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([o].[product_id] = [o0].[product_id] OR ([o].[product_id] IS NULL AND [o0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [o1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [o1].[product_id] ORDER BY [o1].[Order_Item_id], [p0].[product_id]) AS [row]
        FROM [OrderItems] AS [o1]
        LEFT JOIN [Products] AS [p0] ON [o1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 18:10:56.549 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[store_id], [t].[address], [t].[amount], [t].[background_image], [t].[city], [t].[country], [t].[created_at], [t].[end_date], [t].[phone_number], [t].[plan_name], [t].[plan_type], [t].[start_date], [t].[status], [t].[store_description], [t].[store_logo], [t].[store_name], [t].[zip_code], [o0].[order_id], [o0].[amount], [o0].[copon_id], [o0].[Date], [o0].[payment_method_id], [o0].[status], [o0].[store_id], [o0].[transaction_id], [o0].[user_id]
FROM (
    SELECT TOP(@__p_0) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code], (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) AS [c]
    FROM [Stores] AS [s]
    WHERE [s].[status] = N'active'
    ORDER BY (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) DESC
) AS [t]
LEFT JOIN [Orders] AS [o0] ON [t].[store_id] = [o0].[store_id]
ORDER BY [t].[c] DESC, [t].[store_id]
2024-11-17 18:10:56.550 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:10:56.550 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:10:56.554 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t].[c0], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [c].[product_id], COUNT(*) AS [c], AVG(CAST(COALESCE([c].[rating], 0) AS float)) AS [c0]
    FROM [Comment] AS [c]
    GROUP BY [c].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [Comment] AS [c0]
        LEFT JOIN [Products] AS [p] ON [c0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([c].[product_id] = [c0].[product_id] OR ([c].[product_id] IS NULL AND [c0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [c1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [c1].[product_id] ORDER BY [c1].[comment_id], [p0].[product_id]) AS [row]
        FROM [Comment] AS [c1]
        LEFT JOIN [Products] AS [p0] ON [c1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 18:10:56.556 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 28.6957ms
2024-11-17 18:10:56.557 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce) in 12.0486ms
2024-11-17 18:10:56.553 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:10:56.555 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:10:56.562 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:10:56.564 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 18:10:56.565 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce) in 17.6322ms
2024-11-17 18:10:56.565 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce) in 17.2413ms
2024-11-17 18:10:56.566 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce) in 19.7058ms
2024-11-17 18:10:56.566 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - 200 null application/json; charset=utf-8 39.3694ms
2024-11-17 18:10:56.567 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 18:10:56.567 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 18:10:56.568 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 18:10:56.569 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - 200 null application/json; charset=utf-8 41.9171ms
2024-11-17 18:10:56.570 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - 200 null application/json; charset=utf-8 42.8632ms
2024-11-17 18:10:56.570 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - 200 null application/json; charset=utf-8 42.9695ms
2024-11-17 18:10:59.456 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/active - null null
2024-11-17 18:10:59.456 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:10:59.464 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:10:59.468 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:10:59.468 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetActiveStores (E-Commerce)'
2024-11-17 18:10:59.469 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:10:59.469 +03:00 [INF] Route matched with {action = "GetActiveStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetActiveStores() on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 18:10:59.469 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:10:59.472 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:10:59.473 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 2.3073ms
2024-11-17 18:10:59.474 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[end_date] < GETDATE() AND [s].[status] = N'active'
2024-11-17 18:10:59.474 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:10:59.477 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 20.6613ms
2024-11-17 18:10:59.479 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[status] = N'active'
2024-11-17 18:10:59.481 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:10:59.482 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetActiveStores (E-Commerce) in 11.7244ms
2024-11-17 18:10:59.484 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetActiveStores (E-Commerce)'
2024-11-17 18:10:59.484 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/active - 200 null application/json; charset=utf-8 28.4624ms
2024-11-17 18:12:52.601 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:12:52.601 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/active - null null
2024-11-17 18:12:52.610 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:12:52.611 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:12:52.611 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:12:52.612 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetActiveStores (E-Commerce)'
2024-11-17 18:12:52.612 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:12:52.612 +03:00 [INF] Route matched with {action = "GetActiveStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetActiveStores() on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 18:12:52.614 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:12:52.616 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 3.1738ms
2024-11-17 18:12:52.622 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[end_date] < GETDATE() AND [s].[status] = N'active'
2024-11-17 18:12:52.623 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:12:52.625 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 23.6301ms
2024-11-17 18:12:52.629 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code]
FROM [Stores] AS [s]
WHERE [s].[status] = N'active'
2024-11-17 18:12:52.634 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:12:52.637 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetActiveStores (E-Commerce) in 21.8589ms
2024-11-17 18:12:52.638 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetActiveStores (E-Commerce)'
2024-11-17 18:12:52.638 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/active - 200 null application/json; charset=utf-8 37.1073ms
2024-11-17 18:13:00.394 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - null null
2024-11-17 18:13:00.395 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:13:00.394 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - null null
2024-11-17 18:13:00.394 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - null null
2024-11-17 18:13:00.395 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - null null
2024-11-17 18:13:00.406 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:13:00.410 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:13:00.411 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:13:00.413 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:13:00.414 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:13:00.415 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 18:13:00.416 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:13:00.417 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 18:13:00.417 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 18:13:00.417 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 18:13:00.418 +03:00 [INF] Route matched with {action = "GetTopStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopStores(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 18:13:00.418 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:13:00.419 +03:00 [INF] Route matched with {action = "GetLast8Products", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetLast8Products() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:13:00.419 +03:00 [INF] Route matched with {action = "GetTopSellingProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopSellingProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:13:00.420 +03:00 [INF] Route matched with {action = "GetTopReviewedProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopReviewedProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:13:00.422 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:13:00.427 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 5.5445ms
2024-11-17 18:13:00.431 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:13:00.435 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [p].[store_id] AND [s].[status] = N'active')
ORDER BY [p].[created_at] DESC
2024-11-17 18:13:00.439 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[store_id], [t].[address], [t].[amount], [t].[background_image], [t].[city], [t].[country], [t].[created_at], [t].[end_date], [t].[phone_number], [t].[plan_name], [t].[plan_type], [t].[start_date], [t].[status], [t].[store_description], [t].[store_logo], [t].[store_name], [t].[zip_code], [o0].[order_id], [o0].[amount], [o0].[copon_id], [o0].[Date], [o0].[payment_method_id], [o0].[status], [o0].[store_id], [o0].[transaction_id], [o0].[user_id]
FROM (
    SELECT TOP(@__p_0) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code], (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) AS [c]
    FROM [Stores] AS [s]
    WHERE [s].[status] = N'active'
    ORDER BY (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) DESC
) AS [t]
LEFT JOIN [Orders] AS [o0] ON [t].[store_id] = [o0].[store_id]
ORDER BY [t].[c] DESC, [t].[store_id]
2024-11-17 18:13:00.435 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [o].[product_id], COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) AS [c]
    FROM [OrderItems] AS [o]
    GROUP BY [o].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [OrderItems] AS [o0]
        LEFT JOIN [Products] AS [p] ON [o0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([o].[product_id] = [o0].[product_id] OR ([o].[product_id] IS NULL AND [o0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [o1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [o1].[product_id] ORDER BY [o1].[Order_Item_id], [p0].[product_id]) AS [row]
        FROM [OrderItems] AS [o1]
        LEFT JOIN [Products] AS [p0] ON [o1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 18:13:00.438 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t].[c0], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [c].[product_id], COUNT(*) AS [c], AVG(CAST(COALESCE([c].[rating], 0) AS float)) AS [c0]
    FROM [Comment] AS [c]
    GROUP BY [c].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [Comment] AS [c0]
        LEFT JOIN [Products] AS [p] ON [c0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([c].[product_id] = [c0].[product_id] OR ([c].[product_id] IS NULL AND [c0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [c1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [c1].[product_id] ORDER BY [c1].[comment_id], [p0].[product_id]) AS [row]
        FROM [Comment] AS [c1]
        LEFT JOIN [Products] AS [p0] ON [c1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 18:13:00.440 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 44.4985ms
2024-11-17 18:13:00.441 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:13:00.443 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:13:00.444 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:13:00.445 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:13:00.449 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce) in 24.5144ms
2024-11-17 18:13:00.450 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce) in 29.6265ms
2024-11-17 18:13:00.451 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce) in 26.5104ms
2024-11-17 18:13:00.455 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 18:13:00.453 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 18:13:00.454 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 18:13:00.452 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce) in 26.8285ms
2024-11-17 18:13:00.456 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - 200 null application/json; charset=utf-8 62.0443ms
2024-11-17 18:13:00.457 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - 200 null application/json; charset=utf-8 62.8535ms
2024-11-17 18:13:00.458 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - 200 null application/json; charset=utf-8 63.4785ms
2024-11-17 18:13:00.458 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 18:13:00.464 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - 200 null application/json; charset=utf-8 68.7007ms
2024-11-17 18:13:31.350 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - null null
2024-11-17 18:13:31.350 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - null null
2024-11-17 18:13:31.363 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:13:31.359 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - null null
2024-11-17 18:13:31.360 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - null null
2024-11-17 18:13:31.364 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:13:31.369 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:13:31.369 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 18:13:31.370 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:13:31.372 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:13:31.376 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:13:31.376 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 18:13:31.377 +03:00 [INF] Route matched with {action = "GetLast8Products", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetLast8Products() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:13:31.377 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 18:13:31.378 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 18:13:31.378 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:13:31.379 +03:00 [INF] Route matched with {action = "GetTopStores", controller = "Stores"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopStores(Int32) on controller E_Commerce.Controllers.StoresController (E-Commerce).
2024-11-17 18:13:31.380 +03:00 [INF] Route matched with {action = "GetTopSellingProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopSellingProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:13:31.381 +03:00 [INF] Route matched with {action = "GetTopReviewedProducts", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopReviewedProducts() on controller E_Commerce.Controllers.ProductsController (E-Commerce).
2024-11-17 18:13:31.382 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [p].[product_id], [p].[created_at], [p].[description], [p].[image], [p].[is_deleted], [p].[name], [p].[price], [p].[quantity], [p].[Status], [p].[store_id], [p].[subcategory_id]
FROM [Products] AS [p]
WHERE [p].[Status] = 'approved' AND [p].[is_deleted] = CAST(0 AS bit) AND EXISTS (
    SELECT 1
    FROM [Stores] AS [s]
    WHERE [s].[store_id] = [p].[store_id] AND [s].[status] = N'active')
ORDER BY [p].[created_at] DESC
2024-11-17 18:13:31.381 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:13:31.385 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[store_id], [t].[address], [t].[amount], [t].[background_image], [t].[city], [t].[country], [t].[created_at], [t].[end_date], [t].[phone_number], [t].[plan_name], [t].[plan_type], [t].[start_date], [t].[status], [t].[store_description], [t].[store_logo], [t].[store_name], [t].[zip_code], [o0].[order_id], [o0].[amount], [o0].[copon_id], [o0].[Date], [o0].[payment_method_id], [o0].[status], [o0].[store_id], [o0].[transaction_id], [o0].[user_id]
FROM (
    SELECT TOP(@__p_0) [s].[store_id], [s].[address], [s].[amount], [s].[background_image], [s].[city], [s].[country], [s].[created_at], [s].[end_date], [s].[phone_number], [s].[plan_name], [s].[plan_type], [s].[start_date], [s].[status], [s].[store_description], [s].[store_logo], [s].[store_name], [s].[zip_code], (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) AS [c]
    FROM [Stores] AS [s]
    WHERE [s].[status] = N'active'
    ORDER BY (
        SELECT COUNT(*)
        FROM [Orders] AS [o]
        WHERE [s].[store_id] = [o].[store_id]) DESC
) AS [t]
LEFT JOIN [Orders] AS [o0] ON [t].[store_id] = [o0].[store_id]
ORDER BY [t].[c] DESC, [t].[store_id]
2024-11-17 18:13:31.388 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:13:31.389 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:13:31.391 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_Commerce.Models.Store, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:13:31.390 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [o].[product_id], COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) AS [c]
    FROM [OrderItems] AS [o]
    GROUP BY [o].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [OrderItems] AS [o0]
        LEFT JOIN [Products] AS [p] ON [o0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([o].[product_id] = [o0].[product_id] OR ([o].[product_id] IS NULL AND [o0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COALESCE(SUM(COALESCE([o].[quantity], 0)), 0) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [o1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [o1].[product_id] ORDER BY [o1].[Order_Item_id], [p0].[product_id]) AS [row]
        FROM [OrderItems] AS [o1]
        LEFT JOIN [Products] AS [p0] ON [o1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 18:13:31.397 +03:00 [INF] Executed action E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce) in 15.1505ms
2024-11-17 18:13:31.396 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[product_id], [t].[c], [t].[c0], [t0].[product_id], [t0].[created_at], [t0].[description], [t0].[image], [t0].[is_deleted], [t0].[name], [t0].[price], [t0].[quantity], [t0].[Status], [t0].[store_id], [t0].[subcategory_id]
FROM (
    SELECT TOP(@__p_0) [c].[product_id], COUNT(*) AS [c], AVG(CAST(COALESCE([c].[rating], 0) AS float)) AS [c0]
    FROM [Comment] AS [c]
    GROUP BY [c].[product_id]
    HAVING NOT EXISTS (
        SELECT 1
        FROM [Comment] AS [c0]
        LEFT JOIN [Products] AS [p] ON [c0].[product_id] = [p].[product_id]
        LEFT JOIN [Stores] AS [s] ON [p].[store_id] = [s].[store_id]
        WHERE ([c].[product_id] = [c0].[product_id] OR ([c].[product_id] IS NULL AND [c0].[product_id] IS NULL)) AND ([p].[Status] <> 'approved' OR [p].[Status] IS NULL OR [s].[status] <> N'active' OR [s].[status] IS NULL OR [p].[is_deleted] = CAST(1 AS bit) OR [p].[is_deleted] IS NULL))
    ORDER BY COUNT(*) DESC
) AS [t]
LEFT JOIN (
    SELECT [t1].[product_id], [t1].[created_at], [t1].[description], [t1].[image], [t1].[is_deleted], [t1].[name], [t1].[price], [t1].[quantity], [t1].[Status], [t1].[store_id], [t1].[subcategory_id], [t1].[product_id0]
    FROM (
        SELECT [p0].[product_id], [p0].[created_at], [p0].[description], [p0].[image], [p0].[is_deleted], [p0].[name], [p0].[price], [p0].[quantity], [p0].[Status], [p0].[store_id], [p0].[subcategory_id], [c1].[product_id] AS [product_id0], ROW_NUMBER() OVER(PARTITION BY [c1].[product_id] ORDER BY [c1].[comment_id], [p0].[product_id]) AS [row]
        FROM [Comment] AS [c1]
        LEFT JOIN [Products] AS [p0] ON [c1].[product_id] = [p0].[product_id]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[product_id] = [t0].[product_id0]
ORDER BY [t].[c] DESC
2024-11-17 18:13:31.393 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 3.4844ms
2024-11-17 18:13:31.393 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce) in 13.1546ms
2024-11-17 18:13:31.402 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType14`3[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:13:31.403 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.StoresController.GetTopStores (E-Commerce)'
2024-11-17 18:13:31.405 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType15`4[[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[E_Commerce.Models.Product, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 18:13:31.406 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:13:31.406 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetLast8Products (E-Commerce)'
2024-11-17 18:13:31.407 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce) in 24.1469ms
2024-11-17 18:13:31.408 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Stores/top-stores?top=3 - 200 null application/json; charset=utf-8 57.5123ms
2024-11-17 18:13:31.409 +03:00 [INF] Executed action E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce) in 24.5484ms
2024-11-17 18:13:31.409 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 45.2125ms
2024-11-17 18:13:31.410 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/GetLast8Products - 200 null application/json; charset=utf-8 60.0762ms
2024-11-17 18:13:31.411 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopSellingProducts (E-Commerce)'
2024-11-17 18:13:31.413 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductsController.GetTopReviewedProducts (E-Commerce)'
2024-11-17 18:13:31.416 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopSellingProducts - 200 null application/json; charset=utf-8 56.2925ms
2024-11-17 18:13:31.416 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/Products/TopReviewedProducts - 200 null application/json; charset=utf-8 56ms
2024-11-17 18:13:33.637 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:13:33.643 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:13:33.646 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:13:33.648 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:13:33.649 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:13:33.650 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 1.5702ms
2024-11-17 18:13:33.651 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:13:33.652 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 14.6569ms
2024-11-17 18:13:43.228 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:13:43.230 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:13:43.231 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:13:43.233 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:13:43.235 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:13:43.241 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 6.4175ms
2024-11-17 18:13:43.245 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:13:43.247 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 18.5842ms
2024-11-17 18:13:44.717 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - null null
2024-11-17 18:13:44.720 +03:00 [INF] CORS policy execution successful.
2024-11-17 18:13:44.721 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:13:44.722 +03:00 [INF] Route matched with {action = "GetAllCartItems", controller = "CartItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllCartItems(Int32) on controller E_Commerce.Controllers.CartItemsController (E-Commerce).
2024-11-17 18:13:44.727 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-17 18:13:44.731 +03:00 [INF] Executed action E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce) in 5.6554ms
2024-11-17 18:13:44.733 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartItemsController.GetAllCartItems (E-Commerce)'
2024-11-17 18:13:44.735 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7000/api/CartItems/AllItems/null - 400 null application/problem+json; charset=utf-8 17.883ms
